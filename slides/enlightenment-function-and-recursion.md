# 信息学启蒙<br/>第四单元 函数和递归

1. 函数的概念
1. 从整数到实数
1. 常见代数公式
1. 常见几何公式
1. 递推公式和递归调用
1. 汉诺塔
1. 幂的递归实现
1. 阶乘的递归实现
1. 欧几里得算法的递归实现
1. 斐波那契数列的生成

		
## 第四单元 函数和递归<br/>第一讲 函数的概念

	
### 提纲

- 标题：函数的概念
- 旁白：清华大大，我做作业时发现，经常要写一些以前写过的相似代码，好烦呀。
- 主播：哈哈，是时候学函数了。咱看白板哈。
- 讲解要点：
   1. 从数学公式到函数
   1. 代码中的函数
   1. 考鼎伪代码定义函数的方法

	
### 数学上的函数 v.s. 程序中的函数

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>

	
### 考鼎码定义函数

- 考鼎码使用 `函始/函终` 两个关键词定义一个函数。
- 每个函数应该具有唯一的名称。
- 函数名称之后用括号指定一个或多个参数名（`形参`），多个参数名用逗号隔开。
- 这些参数名用于指代`调用`函数时传入的实际参数（`实参`）。
- 函数通常要`返回`一个值。

```mathematica
# 该函数计算并返回两个数的绝对值之和
函始 绝对值之和 (a, b)
    若始 (a < 0)
        a := -a
    若终

    若始 (b < 0)
        b := -b
    若终

    返回 a + b
函终

算始 调用函数
    a := 输入
    b := 输入

    输出 绝对值之和 (a, b)
算终
```

	
### 两个数论常用的函数

```mathematica
# 该函数求给定正整数的真因子，返回真因子构成的序列
函始 真因子序列 (n)
    s := []
    i := 1
    当始 (i < n)
        若始 (n % i == 0)
            s := s + [i]
        若终
        i := i + 1
    当终

    返回 s
函终

# 该函数计算序列各元素之和并返回求和结果
函始 序列元素之和 (seq)
    sum := 0

    # 若第 i 个元素为 `未定义`，表明序列结束
    i := 0
    当始 (seq[i] != 未定义)
        sum  = sum + seq[i]
        i := i + 1
    当终

    返回 sum
函终
```

	
### 函数和算法的区别

- 为避免和已有的算法定义方法相混淆，我们规定 `算始/算终` 定义的算法为单个考鼎码程序的唯一入口。
- 也就是说，一个考鼎码程序可以定义多个 `函数`，但只能包含一个 `算法`。
- 本质上，`算始/算终` 定义的代码属于特殊的函数。

	
### 调用函数判定完美数

- 调用函数时，写上函数名并在其后用括号包围需要传入函数的参数（`实参`）。
- 若函数返回一个值，可以将其使用赋值运算符（`:=`）赋给一个变量以备后续使用。

```mathematica
算始 判定完美数
    n := 输入

    # n 作为参数传入函数 `真因子序列`
    # 该函数返回的序列赋值给了 `seq` 变量
    seq := 真因子序列 (n)

    # seq 作为参数传入函数 `序列元素之和`
    # 该函数返回的值赋值给了 `sum` 变量
    sum := 序列元素之和 (seq)

    # 判断 n 和 sum 是否相等，相等则为完美数
    若始 (n == sum)
        输出 真
    若否
        输出 假
    若终
算终
```

	
### 调用函数判定亲和数

- 一个函数的返回值可以作为调用另一个函数的实参而无需使用中间变量。

```mathematica
算始 判定亲和数
    a := 输入
    b := 输入

    sum_a := 序列元素之和 (真因子序列 (a))
    sum_b := 序列元素之和 (真因子序列 (b))

    若始 (a == sum_b)
        若始 (b == sum_a)
            输出 真
        若终
    若终

    输出 假
算终
```

	
### 作业

1) 将第二单元中所学求幂和阶乘的算法改造成函数。
2) 将正整数分解为指定进制下数码序列的功能写成一个函数。

		
## 第四单元 函数和递归<br/>第二讲 从整数到实数

	
### 提纲

- 标题：从整数到实数
- 旁白：清华大大，数怎么就有理、无理了？您给我讲讲呗。
- 主播：哇，兮兮都知道有理数了！今天一次性讲清楚哈。来看白板。
- 讲解要点：
   - 整数相除产生有理数。
   - 有理数的两种表达：分数和小数。
   - 有理数表达为小数的特点：不循环小数或者循环小数。
   - 无理数的定义：无限不循环小数。
   - 其他常见的无理数：圆周率、黄金分割比。

	
### 从整数到实数

	
### 两个整数相除余数不为零时

- 分数：`$ \frac{1}{2}, \ 3\frac{1}{2} $`
- 小数：`$ 0.5, \ 3.5 $`
- 分数转为小数。

	
### 有理数的定义

- 整数、有限小数和无限循环小数统称为有理数。

	
### 无理数和实数的定义

- 有不循环小数或者循环小数，也应该有无限不循环小数。
- 用代数式构造一个无限不循环小数。
- 无理数：无限不循环小数。
- 实数：有理数和无理数统称为实数。

	
### 人类发现的第一个无理数

- 人类发现的第一个无理数：`$ \large{ \sqrt{2} } $`。<!-- .element: class="fragment fade-in" -->
- 开方运算是幂的一种逆运算：已知 `$ n $` 和 `$ P $`，求满足等式 `$ x^n = P $` 的 `$ x $` 的过程叫开方，记作 `$ x = \sqrt[n]{P} $`。<!-- .element: class="fragment fade-in" -->
- 对数运算是幂的另一种逆运算：如果 `$ a^x = N\ (a \gt 0, 且 a\ne 1) $`，则 `$ x $` 叫做以 `$ a $` 为底 `$ N $` 的对数，记做 `$ x = \log_a{N} $`。<!-- .element: class="fragment fade-in" -->

	
### 常见无理数

- 根号二：`$ \sqrt{2} \approx 1.414 $`
- 根号三：`$ \sqrt{3} \approx 1.732 $`
- 圆周率：`$ \pi \approx 3.14159 $`
- 黄金分割比：`$ \Phi \approx 1.618 $`
- 自然常数：`$ e \approx 2.71828 $`

	
### 运算的封闭性

- 自然数范围内的封闭运算：加法、乘法、带余除法
- 整数范围内的封闭运算：加法、乘法、减法、带余除法
- 有理数范围内的封闭运算：加法、乘法、减法、除法
- 实数范围内的封闭运算：加法、乘法、减法、除法、开方、对数

	
### 基于分数的四则运算

	
### 基于小数的四则运算

	
### 开方和幂的等价关系

	
### 考鼎码提供的常见数学函数

- 使用关键词 `声明` 可声明一个函数的名称以及形参个数等。
- 声明的函数表示由系统或第三方提供，可以直接使用；通常置于使用之前。
- 函数的声明只需要书写一行，所以不需要标识结束的关键词。
- 所有的编程语言都提供一样的数学函数。

```console
# pow() 用来求给定实数 x 的 y 次幂
声明 pow (x, y)

# sqrt() 用来求给定实数 x 的平方根，x 必须大于等于 0。
声明 sqrt (x)

# log10() 用来求给定实数以 10 为底的对数。
声明 log10 (x)

# log2() 用来求给定实数以 2 为底的对数。
声明 log2 (x)
```

	
### 作业

<div class="no-list-style">

1) 完成如下分数相关的计算：

`$$
$$`

2) 完成如下小数相关的计算：

`$$
$$`

3) 编写考鼎码算法调用常用数学函数计算代数合式的值，其中 `$ n $` 为输入的整数：`$ \sum_{i=1}^{n}\sqrt{i} $`。

</div>

