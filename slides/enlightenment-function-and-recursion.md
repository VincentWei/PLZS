# 信息学启蒙<br/>第四单元 函数和递归

1. 函数的概念
1. 从整数到实数
1. 常见代数公式
1. 常见几何公式
1. 递推公式和递归调用
1. 汉诺塔
1. 幂的递归实现
1. 阶乘的递归实现
1. 欧几里得算法的递归实现
1. 斐波那契数列的生成

		
## 第一讲

- 标题：函数的概念
- 旁白：清华大大，我做作业时发现，经常要写一些以前写过的相似代码，好烦呀。
- 主播：哈哈，是时候学函数了。咱看白板哈。
- 讲解要点：
   1. 从数学上的公式到函数
   1. 代码中的函数
   1. 考鼎伪代码定义函数的方法

	
### 从数学上的公式到函数

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>

	
### 考鼎码定义函数

- 考鼎码使用 `函始/函终` 两个关键词定义一个函数。
- 每个函数应该具有唯一的名称。
- 函数名称之后用括号指定一个或多个参数名（`形参`），多个参数名用逗号隔开。
- 这些参数名用于指代`调用`函数时传入的实际参数（`实参`）。
- 函数通常要`返回`一个值。

```mathematica
# 该函数计算序列各元素之和并返回求和结果
函始 序列元素之和 (seq)
    sum := 0
    i := 0
    当始 (seq[i] != 未定义)     # 若第 i 个元素为 `未定义`，表明序列结束
        sum  = sum + seq[i]
        i := i + 1
    当终

    返回 sum
函终
```

	
```
# 该函数求给定正整数的真因子，返回真因子构成的序列
函始 真因子序列 (n)
    s := []
    i := 1
    当始 (i < n)
        若始 (n % i == 0)
            s := s + [i]
        若终
    当终

    返回 s
函终
```

	
### 函数和算法的区别

- 为避免和已有的算法定义方法相混淆，我们规定 `算始/算终` 定义的算法为单个考鼎码程序的唯一入口。
- 也就是说，一个考鼎码程序可以定义多个 `函数`，但只能包含一个 `算法`。
- 本质上，`算始/算终` 定义的代码属于特殊的函数。

	
### 调用函数判定完美数

- 调用函数时，写上函数名并在其后用括号包围需要传入函数的参数（`实参`）。
- 若函数返回一个值，可以将其使用赋值运算符（`:=`）赋给一个变量。

```mathematica
算始 判定完美数
    n := 输入

    # n 作为参数传入函数 `真因子序列`
    # 该函数返回的序列赋值给了 `seq` 变量
    seq := 真因子序列 (n)

    # seq 作为参数传入函数 `序列元素之和`
    # 该函数返回的值赋值给了 `sum` 变量
    sum := 序列元素之和 (seq)

    # 判断 n 和 sum 是否相等，相等则为完美数
    若始 (n == sum)
        输出 真
    若否
        输出 假
    若终
算终
```

	
### 调用函数判定亲和数

```mathematica
算始 判定亲和数
    a := 输入
    b := 输入

    seq := 真因子序列 (a)
    sum_a := 序列元素之和 (seq)

    seq := 真因子序列 (b)
    sum_b := 序列元素之和 (seq)

    若始 (a == sum_b)
        若始 (b == sum_a)
            输出 真
        若终
    若终

    输出 假
算终
```

	
### 作业

1) 将第二单元中所学求幂和阶乘的算法改造成函数。
2) 将正整数分解为指定进制下数码序列的功能写成一个函数。

		
## 第二讲

- 标题：AAA
- 旁白：
- 主播：
- 讲解要点：
- 作业：
- 结语：

	
### AAA<!-- .element: class="fragment fade-out" -->

### 算法描述样例

```console
算始 转换进制 (x, b)
    当始 (x != 0)
        r := x % b
        x := x // b
        输出 r
    当终
算终
```

### 数学公式样例

`$$
\begin{align}
  1,000,000 &= 832,040 &&+ 121,393 &&+ 46,368 &&+ 144    &&+ 55 \\
            &= F_{30}  &&+ F_{26}  &&+ F_{24} &&+ F_{12} &&+ F_{10}
\end{align}
$$`

