# 信息学启蒙作业讲解<br/>`第四单元 实数和函数`

		
## 第四单元 实数和函数<br/>`第一讲 从整数到实数`

	
1) 将下面的假分数化为最简分数形式：

`$$
\begin{align}
    \frac{3}{2} = 1\frac{1}{2} \qquad\qquad \frac{28}{11} = 2\frac{6}{11}\qquad\qquad \frac{77}{33} = 2\frac{1}{3}\qquad\qquad \frac{89}{3} = 29\frac{2}{3}\\
\end{align}
$$`

	
2) 将下面的分数化为小数：

`$$
\begin{align}
    \frac{1}{2} = 0.5 \qquad\qquad 10\frac{1}{10} =10.1 \qquad\qquad \frac{11}{4} = 2.75\qquad\qquad 5\frac{17}{100} = 5.17\\
\end{align}
$$`

	
3) 将下面的小数化为最简分数：

`$$
\begin{align}
    0.5   &= \frac{1}{2}\qquad\qquad &0.25 &= \frac{1}{4}\qquad\qquad &-0.125 &= -\frac{1}{8}   \\
    0.75  &= \frac{3}{4}\qquad\qquad &0.875 &= \frac{7}{8}\qquad\qquad &-0.9  &= -\frac{9}{10}  \\
    7.25  &= 7\frac{1}{4}\qquad\qquad &3.125 &= 3\frac{1}{4}\qquad\qquad &-9.75 &= -9\frac{3}{4}\\
\end{align}
$$`

	
4) 编写考鼎码算法，将给定的分数（依次输入分子和分母）化为最简分数形式，分别输出其整数部分以及最简分数的分子及分母。

```mathematica
# 假定 a, b 均为正整数
算始 化简分数 (a, b)
    n := 0          # 整数部分
    若始 (a > b)
        n := a // b
        a := a % b
    若终

    # 求最大公约数
    x : = a; y := b
    当始 (y != 0)
        tmp := x
        x := y
        y := tmp % y
    当终

    a := a // x
    b := b // x

    输出 n
    输出 a
    输出 b
算终
```

		
## 第四单元 实数和函数<br/>`第二讲 从根号二说起`

	
1) 计算下列算式：

`$$
\begin{align}
    \sqrt{0} &= 0\qquad\qquad &\sqrt{1} &=1 \qquad\qquad &\sqrt{4} &=2 \qquad\qquad &\sqrt{16} &=4 \\
    \sqrt[3]{27} &= 3\qquad\qquad &\sqrt[3]{64} &= 4\qquad\qquad &\sqrt[4]{16} &= 2\qquad\qquad &\sqrt[4]{256} &= 4\\
\end{align}
$$`

	
2) 计算下列算式：

`$$
\begin{align}
    \log_{10}{1} &= 0\qquad &\log_{10}{10} &= 1\qquad &\log_{10}{100} &= 2\qquad &\log_{10}{1000} &= 3\\
    \log_2{1} &= 0\qquad   &\log_2{2} &=1 \qquad &\log_2{8} &= 3\qquad &\log_2{256} &= 8\\
\end{align}
$$`

	
3) 将下面的小数按照第一行给出的示例表达为一个整数和一个 `$ 10 $` 的负整数次幂相乘的形式：

`$$
\begin{align}
    0.1        &= 1 \times 10^{-1} \qquad\qquad &0.01 &= 1 \times 10^{-2} \\
    0.5        &= 5 \times 10^{-1} \qquad\qquad &0.25 &= 25 \times 10^{-2}\\
    10.0350    &= 10035 \times 10^{-3}\qquad\qquad &-30.895 &= -30895 \times 10^{-3}\\
\end{align}
$$`

	
4) 编写考鼎码算法，求出小于等于给定正整数 `n` 平方根的最大整数。如小于等于根号二的最大整数是 `1`，小于等于根号八的最大整数是 `2`。

```mathematica
# n 为正整数
算始 小于等于平方根的最大整数 (n)
    k := 0
    当始 (真)
        若始 (k * k > n)
            跳出
        若终
        k := k + 1
    当终

    输出 k - 1
算终
```

	
5) 证明 `$ \sqrt{3} $` 是无理数。

- 证明（反证法）：
   1. 假设 `$ \sqrt{3} $` 是有理数，则一定有正整数 `$ a,\ b $` 满足 `$ \sqrt{3} = \frac{a}{b} $`，且 `$ \gcd(a, b) = 1 $`。
   1. 则有 `$ a^2 = 3 b^2 $`，这表明 `$ a^2 $` 是一个三倍数。
   1. 因为 `$ 3 $` 是质数，根据算术基本定理，将 `$ a^2 $` 分解为质数幂的相乘形式的话，其所有质因子的指数一定是偶数。
   1. 也就是 `$ a^2 = 3^{2n}k^2 $`；其中 `$ n \ge 1 $`，`$ k^2 $` 是 `$ a^2 $` 除 `$ 3 $` 之外的其他质因子幂之乘积，`$ k \ge 1 $`。
   1. 根据 `$ a^2 = 3^{2n}k^2 $` 有 `$ a = 3^n k $`，所以 `$ a $` 是一个三倍数。
   1. 根据 `$ a^2 = 3^{2n}k^2 = 3b^2 $`，可得 `$ b^2 = 3^{2n-1}k^2 $`。
   1. 因为 `$ n \ge 1 $`，所以 `$ b^2 $` 也是一个三倍数。同理可得 `$ b $` 一定也是三倍数。
   1. 这和 `$ gcd(a, b) = 1 $` 矛盾。故原命题正确。
   1. 证毕！
- 实际上，如果一个正整数 `$ a $` 的平方是偶数，则 `$ a $` 也一定是偶数；如果 `$ a^2 $` 是三倍数，则 `$ a $` 也一定是三倍数；更进一步，如果 `$ a^2 $` 某个质数 `$ p $` 的倍数，则 `$ a $` 也一定是 `$ p $` 的倍数。所以，按以上方法，我们可以证明所有质数的平方根都是无理数。

		
## 第四单元 实数和函数<br/>`第三讲 分数的性质及基本运算`

	
1) 完成如下分数相关的计算（结果要化简为最简分数）：

`$$
\begin{align}
    &\frac{1}{2} + 4\frac{3}{5} = 5\frac{1}{10}\qquad \qquad &&10\frac{1}{4} - \frac{1}{6} = 10\frac{1}{12} \\
    &\frac{1}{2} \times 3\frac{1}{3} = 1\frac{2}{3}\qquad \qquad &&5\frac{1}{5} \div 3\frac{1}{7} = 1\frac{36}{55} \\
\end{align}
$$`

	
2) 编写考鼎码算法，计算两个分数相加的结果并化为最简分数。对分数，程序应分别输入分子和分母。

```mathematica
# 假定 a1, b1, a2, b2 均为正整数
算始 化简分数 (a1, b1, a2, b2)
    a := a1 * b2 + a2 * b1
    b := b1 * b2

    n := 0          # 整数部分
    若始 (a > b)
        n := a // b
        a := a % b
    若终

    # 求最大公约数
    x : = a; y := b
    当始 (y != 0)
        tmp := x
        x := y
        y := tmp % y
    当终

    a := a // x
    b := b // x

    输出 n
    输出 a
    输出 b
算终
```

		
## 第四单元 实数和函数<br/>`第四讲 小数的性质及运算`

	
1) 完成如下小数相关的计算：

`$$
\begin{align}
    0.12345 + 10.56789 & = 10.69134     \\
    0.12345 - 10.56789 & = -10.44444    \\
    10.56789 \times 0.56 & = 5.9180184  \\
    10.56789 \div 0.56 & = 18.87123214\dot{2}8571\dot{4} \\
\end{align}
$$`

	
2) 完成如下的进制转换（精确到小数点后 `4` 位；可用计算器）：

`$$
\begin{align}
    (72.45)_8 &= (\underline{58.578125})_{10} \qquad\qquad &(1A6.3B8)_{16} &= (\underline{422.232421875})_{10}        \\
    15.68 &= (\underline{1111.101011100001})_2 \qquad\qquad                &10.68 &= (\underline{12.5341})_8
\end{align}
$$`

	
3) 思考：针对小数部分，`b` 进制和 `b` 的正整数次幂进制之间的快速转换关系是否仍然适用？

任然适用，但要从小数点开始向右做快速转换。

	
4) 编写考鼎码算法，将一个小数（非负数）转换为给定的 `b` 进制表达，精确到小数点 `n` 位。提示：使用 `//` 运算符，除数为 1 时，可计算得到小数的整数部分。

```mathematica
# b 是进制。
算始 小数进制转换 (d, b, n)
    若始 (b <= 1)
        输出 未定义
    若终

    # 获得 d 的整数部分和小数部分
    ip := d // 1
    fp := d - ip

    s := []
    若始 (ip == 0)
        s := [0]
        输出 s
    若否
        当始 (ip != 0)
            r := ip % b
            s := [r] + s
            ip := ip // b
        当终
    若终
    输出 s  # 整数部分

    s := []
    k := 0
    当始 (k < n)
        fp := fp * b
        r := fp // 1
        s := s + [r]
        fp := fp - r
        k := k + 1
    当终

    输出 s  # 小数部分
算终
```

		
## 第四单元 实数和函数<br/>`第五讲 开方运算的性质`

	
1) 简化下列根式：

`$$
\begin{align}
    \sqrt{2^2} &= 2 \qquad\qquad &\sqrt{(-2)^2} &= 2 \qquad\qquad &\sqrt{a^2} &= \left | a \right | \\
    \sqrt{8} &= 2\sqrt{2} \qquad\qquad &\sqrt{27} &= 3\sqrt{3} \qquad\qquad &\sqrt{20a^2} &= 2\sqrt{5} \left | a \right | \\
    \sqrt{4a^4} &= 2a^2\qquad\qquad &\sqrt[3]{2a^3} &= \sqrt{2}a\\
    \sqrt[3]{\frac{1}{8a}} &=\frac{1}{2a}\sqrt[3]{a^2} \qquad\qquad &\sqrt{\frac{3}{2a}} &= \frac{1}{2a}\sqrt{6a} \\
\end{align}
$$`

	
2) 推导如下开方性质：

`$$
\begin{align}
    \sqrt[n]{NM} &= \sqrt[n]{N} \sqrt[n]{M} \\
    \sqrt[n]{\frac{N}{M}} &= \frac{\sqrt[n]{N}}{\sqrt[n]{M}} \\
\end{align}
$$`

	
3) 增强第一单元给出的求幂算法，使之支持负整数作为指数。

```mathematica
算始 整数次幂 (x, n)
    flag := 假      # 表示指数是否为负数的标志
    若始 (n < 0)
        n = -n
        flag := 真
    若终

    p := 1
    当始 (n != 0)
        p := x * p
        n := n - 1
    当终

    若始 (flag)
        p := 1 / p  # 取倒数
    若终

    输出 p
算终
```

		
## 第四单元 实数和函数<br/>`第六讲 对数运算的性质`

	
1) 根据对数的性质计算：

`$$
\begin{align}
    \log_{64}{8} &= 2   \\
    \log_{100}{10} &= \frac{1}{2}   \\
    \lg {(1/1000)} &= -3 \\
    \ln {e^4} &= 4 \\
    \lg {\sqrt{10}} &= \frac{1}{2}  \\
\end{align}
$$`

	
2) 根据换底公式计算：

`$$
\begin{align}
    \log_{100}{1000} &= \frac{2}{3} \\
    \log_{4}{8} &= \frac{2}{3} \\
    \log_{9}{27} &= \frac{2}{3} \\
\end{align}
$$`

	
3) 推导换底公式：

`$$
    \log_a b = \frac{\log_c b}{\log_c a}
$$`

	
4) 假设考鼎码提供 `常用对数` 指令，可用来计算给定实数的常用对数。请编写算法，利用换底公式计算给定真数（`N`）对给定底数（`a`）的对数。

```mathematica
算始 任意底的对数(N, a)
    若始 (N <= 0 或 a <= 0 或 a == 1)
        返回 未定义
    若终

    # 利用换底公式计算 N 对 a 的对数
    x = 常用对数 N
    y = 常用对数 b

    返回 x / y
算终
```

		
## 第四单元 实数和函数<br/>`第七讲 数学中的函数`

	
1) 给定函数 `$ f(x) = 2x + 5 $`，求下列各值，并在笛卡尔坐标系中标出对应的点。

`$$
\begin{align}
    &f(2) =  9 \qquad &f(1) =  6 \qquad f(0) =  5 \\
    &f(-1) =  3 \qquad &f(-2) =  1 \\
\end{align}
$$`

<img style="height:600px;width:auto;" src="assets/enlightenment-cartesian-coordinate-system.svg" />

	
2) 编写考鼎码算法，该算法根据函数 `$ f(x) = 5x^2 + 6x + 7 $` 计算自变量 `$ x $` 对应的应变量的值。

```mathematica
算始 f(x)
    返回 5 * x * x + 6 * x + 7
算终
```

		
## 第四单元 实数和函数<br/>`第八讲 考鼎码中的函数`

	
1) 将本单元第五讲作业中的求幂算法改造成函数，并编写算法调用相应的函数。

```mathematica
函始 整数次幂 (x, n)
    flag := 假      # 表示指数是否为负数的标志
    若始 (n < 0)
        n = -n
        flag := 真
    若终

    p := 1
    当始 (n != 0)
        p := x * p
        n := n - 1
    当终

    若始 (flag)
        p := 1 / p  # 取倒数
    若终

    返回 p
函终

算始 求幂
    x := 输入
    n := 输入

    p := 整数次幂(x, n)
    输出 p
算终
```

	
2) 将第二单元中所学阶乘算法改造成函数，并编写算法调用相应的函数。

```mathematica
函始 自然数阶乘 (n)
    若始 (n == 0)
        输出 1
        终止
    若终

    r := 1
    i := 2
    当始 (i <= n)
        r := r * i
        i := i + 1
    当终
    输出 r
函终

算始 求阶乘
    n := 输入
    输出 自然数阶乘(n)
算终
```

		
## 第四单元 实数和函数<br/>`第九讲 两个数论常用的函数`

	
1) 将正整数分解为指定进制下数码序列的功能写成一个函数，并编写算法调用相应的函数。

```mathematica
# x 非负，b > 1
函始 正整数的进制转换 (x, b)
    s := []
    若始 (x == 0)
        s := [0]
        返回 s
    若终

    当始 (x != 0)
        r := x % b
        s := [r] + s
        x := x // b
    当终

    返回 s
函终

算始 转进制
    x := 输入
    b := 输入

    b := b // 1
    若始 (b < 2)
        输出 未定义
        终止
    若终

    若始 (x < 0)
        x := -x
    若终
    x := x // 1

    输出 正整数的进制转换(x, b)
算终
```

	
2) 将实数的小数部分分解为指定进制下数码序列的功能写成一个函数，并编写算法调用相应的函数。

```mathematica
# f 为小于 1 的非负小数，b > 1
函始 小数部分的进制转换 (f, b, n)
    s := []
    k := 0
    当始 (k < n)
        f := f * b
        r := f // 1
        s := s + [r]
        fp := fp - r
        k := k + 1
    当终

    返回 s
函终

算始 转进制
    x := 输入
    b := 输入

    若始 (b < 2)
        输出 未定义
        终止
    若终

    若始 (x < 0)
        x = -x
    若终

    # 获得 x 的小数部分
    f := x - x // 1

    输出 小数部分的进制转换(f, b, 10)
算终
```

	
3) 编写算法调用上述函数实现对任意实数的进制转换功能。提示：在考鼎码中，负号使用（`'-'`） 表示，小数点使用（`'.'`） 表示。

```mathematica
算始 转进制
    x := 输入
    b := 输入

    若始 (b < 2)
        输出 未定义
        终止
    若终

    sign := 假
    若始 (x < 0)
        x = -x
        sign := 真
    若终

    # 获得 x 的整数部分
    ip := x // 1

    # 获得 x 的小数部分
    fp := x - ip

    若始 (sign)
        s := ['-']
    若否
        s := []
    若终

    s := s + 正整数的进制转换(ip, b)
    s := s + ['.']
    s := s + 小数部分的进制转换(fp, b, 10)

    输出 s
算终
```

	
4) 增强第三单元第四讲作业“找出小于等于给定正整数 `$ n $` 的所有自恋数”，将获得十进制数码序列、计算自然数次幂等功能改写为函数，以简化主算法的代码复杂度。

```mathematica
函始 自然数次幂 (x, n)
    p := 1
    当始 (n != 0)
        p := x * p
        n := n - 1
    当终

    返回 p
函终

函始 整数的转换进制 (x, b)
    s := []
    若始 (x == 0)
        s := [0]
        返回 s
    若终

    当始 (x != 0)
        r := x % b
        s := [r] + s
        x := x // b
    当终

    返回 s
函终

函始 序列长度 (s)
    n := 0
    当始 (s[n] != 未定义)
        n := n + 1
    当终

    返回 n
函终

算始 列出自恋数 (n)
    k = 1
    当始 (k < n)

        # k 的十进制各位序列
        s := 整数的进制转换(k, 10)
        e := 序列长度 (s)

        # 计算十进制各位的 e 次方之和
        sum := 0
        i := 0
        当始 (i < e)
            # 计算当前位的 e 次方
            power = 自然数次幂(s[i], e)

            # 将 power 加到 sum 中
            sum := sum + power
            i := i + 1
        当终

        # 判断是否为自恋数
        若始 (sum == k)
            输出 k
        若终

        k := k + 1
    当终
算终
```

		
## 第四单元 实数和函数<br/>`第十讲 可执行的考鼎码`

	
1) 用科学计数法表示下列各数，仅保留七位有效数字：

`$$
\begin{align}
    299792458 &= 2.997925 \times 10^{10} \\
    3.14159265 &= 3.141593 \times 10^0 \\
    -1234.5678 &= -1.234568 \times 10^3 \\
    -0.000123456789 &= -1.234568 \times 10^{-4} \\
\end{align}
$$`

	
2) 编写可执行考鼎码算法调用数学函数计算代数和式的值，其中 `$ n $` 为输入的整数：`$ \displaystyle{ \sum_{i=1}^{n}\sqrt{i} } $`。

```mathematica
算始 计算代数和式(n)
    n := 整数(n)
    若始 (n < 1)
        输出("错误参数")
        终止()
    若终

    sum := 0
    i := 1
    当始 (i <= n)
        sum := sum + math.sqrt(i)
        i := i + 1
    当终

    输出(sum)
算终
```

	
3) 上一讲用考鼎伪代码编写的整数的进制转换函数仍有待改进的地方：当我们使用大于十的进制（如十六进制）时，用于表示十及以上数值的符号不够用了，这时就要使用其他符号。但显然这个版本并未考虑这一点。请针对三十七以内的进制思考改进方案，写出对应的可执行考鼎码版本。

```mathematica
# x 非负，b > 1
函始 正整数的进制转换 (x, b)
    digits = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"

    s := []
    若始 (x == 0)
        s := [ digits[0] ]
        返回 s
    若终

    当始 (x != 0)
        r := x % b
        s := [ digits[r] ] + s
        x := x // b
    当终

    返回 s
函终

算始 转进制
    x := 整数(输入())
    b := 整数(输入())

    若始 (b < 2)
        输出(未定义)
        终止
    若终

    若始 (b > 37)
        输出("进制太大，无法转换")
        终止
    若终

    sign := 假
    若始 (x < 0)
        x := -x
        sign := 真
    若终

    s = 正整数的进制转换(x, b)
    若始 (sign)
        s = ['-'] + s
    若终

    输出 s
算终
```

	
4) 在考鼎码在线练习场中运行自己写过的算法，注意修改伪代码中不严谨的写法。

