# 信息学启蒙<br/>`第四单元 实数和函数`

1. 从整数到实数
1. 从根号二说起
1. 分数的性质及运算
1. 小数的性质及运算
1. 开方运算的性质
1. 对数运算的性质
1. 数学中的函数
1. 程序中的函数
1. 两个数论常用的函数
1. 可执行的考鼎码

		
## 第四单元 实数和函数<br/>`第一讲 从整数到实数`

	
### 提纲

- 标题：从整数到实数
- 旁白：清华大大，数怎么就有理、无理了？您给我讲讲呗。
- 主播：哇，兮兮都知道有理数了！今天一次性讲清楚哈。来看白板。
- 讲解要点：
   - 整数相除产生有理数。
   - 有理数的两种表达：分数和小数。
   - 有理数表达为小数的特点：不循环小数或者循环小数。
   - 无理数的定义：无限不循环小数。
   - 其他常见的无理数：圆周率、黄金分割比。

	
### 两个整数相除余数不为零时

- 分数：`$ \frac{1}{2}, \ 3\frac{1}{4} $`
- 小数：`$ 0.5, \ 3.25 $`
- 分数转为小数；无限循环小数。
- 小数转为分数。

<img style="height:auto;width:auto;" src="assets/enlightenment-real-number-axis.svg" />

	
<div class="move-top">

### 有理数的定义

- 整数、有限小数和无限循环小数统称为有理数。

</div>

	
### 无理数和实数的定义

- 有不循环小数或者循环小数，也应该有无限不循环小数。
- 用代数式构造一个无限不循环小数：

`$$
\large{
    \displaystyle{ \sum_{n=0}^{\infty} \frac{1}{10^{n!}} }
}
$$`<!-- .element: class="fragment fade-in" -->

- 无理数：无限不循环小数。
- 实数：有理数和无理数统称为实数。

	
<div class="move-top">

### 常见无理数

- 根号二：`$ \sqrt{2} \approx 1.414 $`
- 根号三：`$ \sqrt{3} \approx 1.732 $`
- 圆周率：`$ \pi \approx 3.14159 $`
- 黄金分割比：`$ \Phi \approx 1.618 $`
- 自然常数：`$ e \approx 2.71828 $`

</div>

	
### 作业<sub>U4L1</sub>

<div class="no-list-style">

- 1) 将下面的假分数化为最简分数形式：

`$$
\begin{align}
    \frac{3}{2} = \qquad\qquad \frac{28}{11} = \qquad\qquad \frac{77}{33} = \qquad\qquad \frac{89}{3} = \\
\end{align}
$$`

- 2) 将下面的分数化为小数：

`$$
\begin{align}
    \frac{1}{2} = \qquad\qquad 10\frac{1}{10} = \qquad\qquad \frac{11}{4} = \qquad\qquad 5\frac{17}{100} = \\
\end{align}
$$`

- 3) 将下面的小数化为最简分数：

`$$
\begin{align}
    0.5   &= \qquad\qquad &0.25 &= \qquad\qquad &-0.125 &= \\
    0.75  &= \qquad\qquad &0.875 &= \qquad\qquad &-0.9  &= \\
    7.25  &= \qquad\qquad &3.125 &= \qquad\qquad &-9.75 &= \\
\end{align}
$$`

- 4) 编写考鼎码算法，将给定的分数（依次输入分子和分母）化为最简分数形式，分别输出其整数部分以及最简分数的分子及分母。

</div>

		
## 第四单元 实数和函数<br/>`第二讲 从根号二说起`

	
### 提纲

- 标题：从根号二说起
- 旁白：人类是怎么发现无理数的？您给我讲讲呗。
- 主播：无理数的发现有个悲伤的故事。来看白板。
- 讲解要点：
   - 根号二、开方、对数
   - 根号二是无理数的证明
   - 运算的封闭性
   - 四则运算的等价性

	
### 根号二、开方和对数

- 人类发现的第一个无理数：`$ \large{ \sqrt{2} } $`。
- 开方运算是幂的一种逆运算：已知 `$ n $` 和 `$ N $`，求满足等式 `$ x^n = N\ (N \ge 0) $` 的 `$ x $` 的过程叫开方，`$ x $` 叫做 `$ N $` 的 `$ n $` 次方根，记作

`$$
\large{
    x = \sqrt[n]{N}
}
$$`<!-- .element: class="fragment fade-in" -->

- 对数运算是幂的另一种逆运算：如果 `$ a^x = N\ (a \gt 0, 且 a\ne 1) $`，则 `$ x $` 叫做以 `$ a $` 为底 `$ N $` 的对数，记作

`$$
\large{
    x = \log_a{N}
}
$$`<!-- .element: class="fragment fade-in" -->

	
<div class="move-top">

### 根号二是无理数的一个简单证明

</div>

	
<div class="move-top">

### 运算的封闭性

- 自然数范围内的封闭运算：加法、乘法、带余除法
- 整数范围内的封闭运算：加法、乘法、减法、带余除法
- 有理数范围内的封闭运算：加法、乘法、减法、除法
- 实数范围内的封闭运算：加法、乘法、减法、除法、开方、对数

</div>

	
### 四则运算的等价性

- 减法本质上等价于加法：`$ a - b = a + (-b) $`。
- 除法本质上等价于乘法：`$ a \div b = \frac{a}{b} = a \times \frac{1}{b} $`。

- 倒数：对任意实数 `$ a \ne 0 $`，一定有实数 `$ b $` 使得 `$ ab = 1 $`；这时，称 `$ b $` 为 `$ a $` 的倒数。实际上有 `$ b = 1 \div a = \frac{1}{a} $`，而 `$ a $` 是 `$ b $` 的倒数。
- 负次幂：根据幂的性质有 `$ a^{-n} = a^{0-n} = a^0 \div a^n = \frac{1}{a^n} $`，故而 `$ a $` 的倒数经常被表示为 `$ a^{-1} $`。

`$$
\large{
    a^{-1} = \frac{1}{a}    \qquad a^{-3} = \frac{1}{a^3}
}
$$`

- 类似 `$ (ab)^n = a^n b^n $`，有

`$$
\large{
    \left ( \frac{a}{b} \right )^n = \frac{a^n}{b^n}  \\
}
$$`


	
### 作业<sub>U4L2</sub>

<div class="no-list-style">

- 1) 计算下列算式：

`$$
\begin{align}
    \sqrt{0} &= \qquad\qquad &\sqrt{1} &= \qquad\qquad &\sqrt{4} &= \qquad\qquad &\sqrt{16} &= \\
    \sqrt[3]{27} &= \qquad\qquad &\sqrt[3]{64} &= \qquad\qquad &\sqrt[4]{16} &= \qquad\qquad &\sqrt[4]{256} &= \\
\end{align}
$$`

- 2) 计算下列算式：

`$$
\begin{align}
    \log_{10}{1} &= \qquad &\log_{10}{10} &= \qquad &\log_{10}{100} &= \qquad &\log_{10}{1000} &= \\
    \log_2{1} &= \qquad   &\log_2{2} &= \qquad &\log_2{8} &= \qquad &\log_2{256} &= \\
\end{align}
$$`

- 3) 将下面的小数按照第一行给出的示例表达为一个整数和一个 `$ 10 $` 的负整数次幂相乘的形式：

`$$
\begin{align}
    0.1        &= 1 \times 10^{-1} \qquad\qquad &0.01 &= 1 \times 10^{-2} \\
    0.5        &= \qquad\qquad &0.25 &= \\
    10.0350    &= \qquad\qquad &-30.895 &= \\
\end{align}
$$`

- 4) 编写考鼎码算法，求出小于等于给定正整数 `n` 平方根的最大整数。如小于等于根号二的最大整数是 `1`，小于等于根号八的最大整数是 `2`。

- 5) （选做）证明 `$ \sqrt{3} $` 是无理数。

</div>

		
## 第四单元 实数和函数<br/>`第三讲 分数的性质及基本运算`

	
### 提纲

- 标题：分数的性质及基本运算
- 旁白：清华大大，两个分数相加、相乘有啥技巧吗？您给我讲讲呗。
- 主播：有技巧，不过技巧可是建立在规律之上的。来看白板。
- 讲解要点：
   1. 两个分数相乘
   1. 两个分数相除
   1. 乘法分配律的推广
   1. 通分

	
### 两个分数相乘

- 基本性质：

`$$
\large{
    \frac{a}{b} = a \times \frac{1}{b}
}
$$`

- 分数相乘：

`$$
\large{
    \frac{a}{b} \times \frac{c}{d} = \frac{a \times c}{b \times d}
}
$$`<!-- .element: class="fragment fade-in" -->

	
### 两个分数相除

- 基本性质：

`$$
\large{
    1 \div \frac{a}{b} = \frac{1}{\frac{a}{b}} = \frac{b}{a}
}
$$`

- 分数相除：

`$$
\large{
    \frac{a}{b} \div \frac{c}{d} = \frac{a}{b} \times \frac{d}{c}= \frac{a \times d}{b \times c}
}
$$`<!-- .element: class="fragment fade-in" -->

- 或者：

`$$
\large{
    \frac{\frac{a}{b}}{g \times \frac{c}{d}} = \frac{\frac{a}{b} \times \frac{d}{c}}{g} = \frac{\frac{a \times d}{b \times c}}{g}
}
$$`<!-- .element: class="fragment fade-in" -->

	
### 分母相等的两个分数相加

- 利用乘法分配律

`$$
\large{
    \frac{a}{c} + \frac{b}{c} = a \times \frac{1}{c} + b \times \frac{1}{c}
}
$$`

- 得出公式

`$$
\large{
    \frac{a}{c} \pm \frac{b}{c} = \frac{a \pm b}{c}
}
$$`<!-- .element: class="fragment fade-in" -->

	
### 分母不相等的两个分数相加

- 利用性质

`$$
\large{
    \frac{a}{b} = \frac{ac}{bc} \quad (c \ne 0)
}
$$`

- 得出公式

`$$
\large{
    \frac{a}{b} \pm \frac{c}{d} = \frac{ad}{bd} \pm \frac{cb}{db} = \frac{ad \pm bc}{bd}
}
$$`<!-- .element: class="fragment fade-in" -->

- 利用最大公约数和最小公倍数

`$$
\large{
    \frac{a}{b} \pm \frac{c}{d} = \frac{a \times \frac{d}{\gcd(b, d)} \pm c \times \frac{b}{\gcd(b, d)} }{\operatorname{lcm}(b, d)}
}
$$`<!-- .element: class="fragment fade-in" -->

	
### 作业<sub>U4L3</sub>

<div class="no-list-style">

- 1) 完成如下分数相关的计算（结果要化简为最简分数）：

`$$
\begin{align}
    &\frac{1}{2} + 4\frac{3}{5} = \qquad \qquad &&10\frac{1}{4} - \frac{1}{6} = \\
    &\frac{1}{2} \times 3\frac{1}{3} = \qquad \qquad &&5\frac{1}{5} \div 3\frac{1}{7} = \\
\end{align}
$$`

- 2) 编写考鼎码算法，计算两个分数相加的结果并化为最简分数。对分数，程序应分别输入分子和分母。

</div>

		
## 第四单元 实数和函数<br/>`第四讲 小数的性质及运算`

	
### 提纲

- 标题：小数的性质及运算
- 旁白：清华大大，两个整数相除为啥会产生无限循环小数啊？
- 主播：这问题太好了！咱看白板哈。
- 讲解要点：
   1. 两个整数相除为何会产生无限循环小数？
   1. 0.9 循环等于 1 的几个证明。
   1. 如何将一个循环小数转成分数？
   1. 小数四则运算。
   1. 小数的进制表达及转换。

	
<div class="move-top">

### 两个整数相除为何会产生无限循环小数？

</div>

	
### 将循环小数转成分数

- 将 `$ 0.\dot{5} $` 转成分数：

`$$
\begin{align}
    &x := 0.\dot{5} \\
    &\because 10x = 5.\dot{5} \\
    &\therefore  10x = 5 + 0.\dot{5} \\
    &\therefore  10x = 5 + x \\
    &\therefore  10x - x = 5 \\
    &\therefore  9x = 5 \\
    &\therefore  x = \frac{5}{9} \\
\end{align}
$$`<!-- .element: class="fragment fade-in" -->

- 公式：

`$$
\large{
    (0.\dot{f_1} {f_2} \cdots \dot{f_n})_b = \frac{(f_1 f_2 \cdots f_n)_b}{b^n - 1}
}
$$`<!-- .element: class="fragment fade-in" -->

	
### 0.9循环等于1的几种证明方法

1. 长除法变戏法。
1. 依照循环小数转分数的公式。
1. 参照上述将 `$ 0.\dot{5} $` 转成分数的过程：

`$$
\begin{align}
    &x := 0.\dot{9} \\
    &\because 10x = 9.\dot{9} \\
    &\therefore  10x = 9 + 0.\dot{9} \\
    &\therefore  10x = 9 + x \\
    &\therefore  10x - x = 9 \\
    &\therefore  9x = 9 \\
    &\therefore  x = \frac{9}{9} = 1 \\
\end{align}
$$`

	
### 小数的四则运算

- 要点：
   1) 加减法：对齐小数点做竖式加减法。
   2) 乘法：去掉小数点乘除，再确定小数部分位数；以 `$ 1.35 \times 12.5678 $` 为例：

`$$
\begin{align}
    \because\quad &1.35 = 135 \times 10^{-2}  \\
             &12.5678 = 125678 \times 10^{-4} \\
    \therefore\quad &1.35 \times 12.5678      \\
        &= 135 \times 10^{-2} \times 125678 \times 10^{-4} \\
        &= 135 \times 125678 \times 10^{-2} \times 10^{-4} \\
        &= 1696545 \times 10^{-6} \\
        &= 1.696545 \\
\end{align}
$$`

	
   3) 除法：同时放大被除数和除数以去掉除数的小数点，然后再用长除法；以 `$ 1.35 \div 12.5678 $` 为例：

`$$
\begin{align}
    \because\quad &1.35 = 135 \times 10^{-2} \\
             &12.5678 = 125678 \times 10^{-4}  \\
    \therefore\quad &1.35 \div 12.5678      \\
        &= \frac{135 \times 10^{-2}}{125678 \times 10^{-4}} \\
        &= \frac{135 \times 10^{-2} \times 10^4}{125678 \times 10^{-4} \times 10^4} \\
        &= \frac{135 \times 10^{2}}{125678} \\
        &= \frac{13500}{125678} \\
        &\approx 0.1074173681 \\
\end{align}
$$`

	
### 小数的进制表达

- 十进制小数表达的含义：

`$$
\large{
\begin{align}
    123.45 &= 1 \times 100 + 2 \times 10 + 3 \times 1 + 4 \times 0.1 + 5 \times 0.01    \\
           &= 1 \times 10^2 + 2 \times 10^1 + 3 \times 10^0 + 4 \times 10^{-1} + 5 \times 10^{-2}
\end{align}
}
$$`

- 任意进制表达的展开式：

`$$
\large{
\begin{align}
    &(d_n d_{n-1} \cdots d_1 d_0.f_1f_2 \cdots f_{m-1} f_m)_b \\
  = &d_n b^n + d_{n-1} b^{n-1} + \cdots + d_1 b^1 + d_0 b^0 + f_1 b^{-1} + f_2 b^{-2} + \cdots + f_{m-1} b^{1-m} + f_m b^{-m}
\end{align}
}
$$`<!-- .element: class="fragment fade-in" -->

	
### 小数的进制转换

- 整数部分和小数部分分别转换。
- 小数部分的转换算法：
   1. 令 `i` 为 `1`，并令 `f` 为小数部分。
   1. `f` 乘以进制数 `b` 后取整数部分 `d` 作为转换后的第 `i` 位小数，并令 `f` 为剩余的小数部分。
   1. 若 `f` 为零，则转换结束。
   1. 若 `f` 不为零，且 `i` 尚未到达要求的精度（小数点后 `n` 位），则 `i` 递增并转第 `2` 步。
- 小数是否循环和进制有关。

	
### 作业<sub>U4L4</sub>

<div class="no-list-style">

- 1) 完成如下小数相关的计算：

`$$
\begin{align}
    0.12345 + 10.56789 & = \\
    0.12345 - 10.56789 & = \\
    10.56789 \times 0.56 & = \\
    10.56789 \div 0.56 & = \\
\end{align}
$$`

- 2) 完成如下的进制转换（精确到小数点后 `4` 位；可用计算器）：

`$$
\begin{align}
    (72.45)_8 &= (\underline{\qquad\qquad})_{10} \qquad\qquad &(1A6.3B8)_{16} &= (\underline{\qquad\qquad})_{10}        \\
    15.68 &= (\underline{\qquad\qquad})_2 \qquad\qquad                 &10.68 &= (\underline{\qquad\qquad})_8
\end{align}
$$`

- 3) 思考：针对小数部分，`b` 进制和 `b` 的正整数次幂进制之间的快速转换关系是否仍然适用？

- 4) 编写考鼎码算法，将一个小数（非负数）转换为给定的 `b` 进制表达，精确到小数点 `n` 位。提示：使用 `//` 运算符，除数为 `1` 时，可计算得到小数的整数部分。

</div>

		
## 第四单元 实数和函数<br/>`第五讲 开方运算的性质`

	
### 提纲

- 标题：开方运算的性质
- 旁白：清华大大，根号二这样的开方太难算了。
- 主播：难算就不算了，将来交给计算机算，咱人类找到规律就好。来看白板。
- 讲解要点：
   1. 开方运算的定义和意义
   1. 开发运算和幂的等价关系
   1. 最简根式。

	
### 开方运算的定义

- 开方运算是幂的一种逆运算：已知 `$ n $` 和 `$ N $`，求满足等式 `$ x^n = N\ (N \ge 0) $` 的 `$ x $` 的过程叫开方，`$ x $` 叫做 `$ N $` 的 `$ n $` 次方根，记作

`$$
\large{
    x = \sqrt[n]{N}
}
$$`

- 一个数 `$ x\ (x >= 0) $` 的 `$ 2 $` 次方根称为平方根（简写为 `$ \sqrt{x} $`）；`$ 3 $` 次方根称为立方根。
- 零的 `$ n $` 次方根是零。
- 在实数范围内，正数的偶数次方根是两个互为相反数的数。
- 在实数范围内，负数的偶数次方根不存在（`未定义`）。
- 在实数范围内，开方运算只求正数的非负方根；非负平方根也叫 `算术平方根`。
- 开方运算为何重要？

	
### 开方和幂的等价关系

- 公式：

`$$
\large{
    \sqrt[n]{N} = N^{1/n}
}
$$`<!-- .element: class="fragment fade-in" -->

- 根据幂的如下性质：

`$$
\begin{align}
    (ab)^n &= a^n b^n \\
    (a / b)^n &= a^n / b^n \\
\end{align}
$$`<!-- .element: class="fragment fade-in" -->

- 可得开方的性质：

`$$
\begin{align}
    \sqrt[n]{NM} &= \sqrt[n]{N} \sqrt[n]{M} \\
    \sqrt[n]{\frac{N}{M}} &= \frac{\sqrt[n]{N}}{\sqrt[n]{M}} \\
\end{align}
$$`<!-- .element: class="fragment fade-in" -->

	
### 最简根式

- 利用分式、幂、方根等的性质，简化根式。
- 举例：

`$$
\begin{align}
    \sqrt{20} &= \\
    \sqrt{500} &= \\
    \sqrt{\frac{1}{100}} &= \\
    \sqrt[3]{\frac{1}{27a}} &= \\
\end{align}
$$`

	
### 作业<sub>U4L5</sub>

<div class="no-list-style">

- 1) 简化下列根式：

`$$
\begin{align}
    \sqrt{2^2} &= \qquad\qquad &\sqrt{(-2)^2} &= \qquad\qquad &\sqrt{a^2} &= \\
    \sqrt{8} &= \qquad\qquad &\sqrt{27} &= \qquad\qquad &\sqrt{20a^2} &= \\
    \sqrt{4a^4} &= \qquad\qquad &\sqrt[3]{2a^3} &= \\
    \sqrt[3]{\frac{1}{8a}} &= \qquad\qquad &\sqrt{\frac{3}{2a}} &= \\
\end{align}
$$`

- 2) 推导如下开方性质：

`$$
\begin{align}
    \sqrt[n]{NM} &= \sqrt[n]{N} \sqrt[n]{M} \\
    \sqrt[n]{\frac{N}{M}} &= \frac{\sqrt[n]{N}}{\sqrt[n]{M}} \\
\end{align}
$$`

- 3) 增强第二单元给出的求幂算法，使之支持负整数作为指数。

</div>

		
## 第四单元 实数和函数<br/>`第六讲 对数运算的性质`

	
### 提纲

- 标题：对数运算的性质
- 旁白：清华大大，听说没有计算机的时候用对数表做计算，为啥要用对数表呢？
- 主播：这是因为对数运算可以简化复杂的幂、开方以及大数的乘除运算。听我讲解哦。
- 讲解要点：
   1. 对数运算的定义。
   1. 对数运算的性质。
   1. 对数表。
   1. 对数换底公式。

	
### 对数运算的定义

- 对数运算是幂的一种逆运算：如果 `$ a^x = N\ (a \gt 0, 且 a\ne 1) $`，则 `$ x $` 叫做以 `$ a $` 为底 `$ N $` 的对数，记作

`$$
\large{
    x = \log_a{N}
}
$$`

- 其中，`$ a $` 叫做对数的 `底数`，`$ N $` 叫做 `真数`。
- 以 `$ 10 $` 为底的对数叫做 `常用对数`，记为 `$ \lg N $`。
- 以无理数 `$ e $` 为底的对数称为 `自然对数`，记为 `$ \ln N $`。
- 零的对数为 `未定义`。
- 在实数范围内，负数的对数 `未定义`。

	
### 对数运算的性质

- 基本性质：
   - `$ \log_a{1} = 0 $`<!-- .element: class="fragment fade-in" -->
   - `$ \log_a{a} = 1 $`<!-- .element: class="fragment fade-in" -->
   - `$ \log_a{b} \times \log_b{a} = 1 $`<!-- .element: class="fragment fade-in" -->
   - `$ -\log_c{(a \div b)} = \log_c{(b \div a)} $`<!-- .element: class="fragment fade-in" -->

- 恒等式：

`$$
\large{
    a^{\log_a{N}} = N \quad (a \gt 0,\ a \ne 1)
}
$$`<!-- .element: class="fragment fade-in" -->

- 运算法则：
    - `$ \log_a{a^n} = n $`<!-- .element: class="fragment fade-in" -->
    - `$ \log_a{MN} = \log_aM + \log_aN $`<!-- .element: class="fragment fade-in" -->
    - `$ \log_a{(M / N)} = \log_aM - \log_aN $`<!-- .element: class="fragment fade-in" -->
    - `$ \log_a{(1 / N)} = -\log_a{N} $`<!-- .element: class="fragment fade-in" -->
    - `$ \log_a{M^n} = n \log_a{M} $`<!-- .element: class="fragment fade-in" -->
    - `$ \log_a{\sqrt[n]M} = (\log_a{M})/n $`<!-- .element: class="fragment fade-in" -->

	
### 对数换底公式

- 换底公式：

`$$
\large{
    \log_a b = \frac{\log_c b}{\log_c a}
}
$$`<!-- .element: class="fragment fade-in" -->

- 推导

- 应用

`$$
\begin{align}
    \log_{100}{1000} &= \\
    \log_{16}{32} &= \\
\end{align}
$$`<!-- .element: class="fragment fade-in" -->

	
### 作业<sub>U4L6</sub>

<div class="no-list-style">

- 1) 根据对数的性质计算：

`$$
\begin{align}
    \log_{64}{8} &= \qquad &\log_{100}{10} &= \\
    \lg {(1/1000)} &= \qquad &\ln {e^4} &= \\
    \lg {\sqrt{10}} &= \\
\end{align}
$$`

- 2) 根据换底公式计算：

`$$
\begin{align}
    \log_{100}{1000} &= \\
    \log_{4}{8} &= \\
    \log_{9}{27} &= \\
\end{align}
$$`

- 3) 推导换底公式：

`$$
    \log_a b = \frac{\log_c b}{\log_c a}
$$`

- 4) 假设考鼎码提供 `常用对数` 指令，可用来计算给定实数的常用对数。请编写算法，利用换底公式计算给定真数（`N`）对给定底数（`a`）的对数。

</div>

		
## 第四单元 实数和函数<br/>`第七讲 数学中的函数`

	
### 提纲

- 标题：数学中的函数
- 旁白：清华大大，听说我们到了初中就要学函数，还听说计算机程序里也全是函数。这俩东西怎么扯到一起了？
- 主播：哈哈，兮兮知道得挺多呀。那听我唠叨唠叨。
- 讲解要点：
   1. 代数式到函数
   1. 笛卡尔坐标系
   1. 常见数学函数

	
### 函数的概念

- 研究代数式中某个量变化时，其结果的变化规律。如：`$ \large{ b = 2a + 3 } $`
- 为区别代数式中的常数量和变化量，使用 `$ x $` 和 `$ y $` 分别表示变量（`自变量`）和结果（`应变量`）：

`$$
\large{
    y = ax + c
}
$$`

- 或者使用 `$ f(x) $` 表示一个随 `$ x $` 变化的函数：

`$$
\large{
    f(x) = ax + c
}
$$`

- 然后使用 `$ f(0) $` 表示 `$ x $` 取 `$ 0 $` 时代数式的值，如此等等。

	
### 笛卡尔坐标系

<img style="height:700px;width:auto;" src="assets/enlightenment-cartesian-coordinate-system.svg" />

	
### 常见初等函数

- 常数函数： `$ \large{ y = c } $`
- 幂函数：`$ \large{ y = x^a  \quad (a \ne 0) } $`
   1. 一次（线性）函数： `$ \large{ y = ax + c \quad (a \ne 0)} $`
   1. 二次（抛物线）函数： `$ \large{ y = ax^2 + bx + c  \quad (a \ne 0)} $`
- 指数函数：`$ \large{ y = a^x  \quad (a \ne 0,\ a \ne 1) } $`
- 对数函数：`$ \large{ y = log_a{x} \quad (a > 0,\ a \ne 1)} $`

	
### 函数带来的好处

- 简化书写。
- 将不同的代数式做了分类，将具有类似性质的代数式用统一的函数形式表达，方便研究其共同性质。
- 函数是人类在数学上继代数式之后的另一个重大抽象。
- 抽象概念的产生：总结、归纳、提炼共性。

	
### 作业<sub>U4L7</sub>

<div class="no-list-style">

- 1) 给定函数 `$ f(x) = 2x + 5 $`，求下列各值，并在笛卡尔坐标系中标出对应的点。

`$$
\begin{align}
    f(2) &=  \\
    f(1) &=  \\
    f(0) &=  \\
    f(-1) &=  \\
    f(-2) &=  \\
\end{align}
$$`

- 2) 编写考鼎码算法，该算法根据函数 `$ f(x) = 5x^2 + 6x + 7 $` 计算自变量 `$ x $` 对应的应变量的值。

</div>

		
## 第四单元 实数和函数<br/>`第八讲 考鼎码中的函数`

	
### 提纲

- 标题：程序中的函数
- 旁白：清华大大，考鼎码中能否定义多个算法，就像数学里边的函数一样，这样我就可以直接用以前写过的算法了。
- 主播：这个想法非常棒，其实考鼎码里边的算法就是一种特殊的函数。
- 讲解要点：
   1. 代码中的函数
   1. 考鼎码定义函数的方法

	
### 考鼎码定义函数

- 考鼎码使用 `函始/函终` 两个关键词定义一个函数。
- 每个函数应该具有唯一的名称。
- 函数名称之后用括号指定一个或多个参数名（`形参`），多个参数名用逗号隔开；若函数不需要参数，则不需要括号和形参列表。
- 这些参数名用于指代`调用`函数时传入的实际参数（`实参`）。
- 函数通常要`返回`一个值。

```mathematica
# 该函数计算并返回两个数的绝对值之和
函始 绝对值之和 (a, b)
    若始 (a < 0)
        a := -a
    若终

    若始 (b < 0)
        b := -b
    若终

    返回 a + b
函终
```

	
### 考鼎码中调用函数

- 调用函数：函数名然后是小括号包围的实参列表；若函数不需要参数，则括号为空或者干脆不用括号。
- 变量的 `作用域`。

```mathematica
# 该函数计算并返回两个数的绝对值之和
函始 绝对值之和 (a, b)
    若始 (a < 0)
        a := -a
    若终

    若始 (b < 0)
        b := -b
    若终

    返回 a + b
函终

算始 调用函数的示例
    a := 输入
    b := 输入

    输出 绝对值之和 (a, b)
算终
```

	
### 考鼎码中函数和算法的区别

- 为避免和已有的算法定义方法相混淆，我们规定 `算始/算终` 定义的算法为单个考鼎码程序的唯一入口。
- 也就是说，一个考鼎码程序可以定义多个 `函数`，但只能包含一个 `算法`。
- 这么一来，`算始/算终` 本质上是一种特殊的函数。
- 在程序中，将某个功能写成函数，其主要目的是为了方便代码的重复使用。
- 所有有一个重要的 `约定`：不在函数中处理输入和输出，而仅在算法中处理输入和输出。

	
### 作业<sub>U4L8</sub>

1) 将本单元第五讲作业中的求幂算法改造成函数，并编写算法调用相应的函数。
2) 将第二单元中所学阶乘算法改造成函数，并编写算法调用相应的函数。

		
## 第四单元 实数和函数<br/>`第九讲 两个数论常用的函数`

	
### 提纲

- 标题：两个数论常用的函数
- 旁白：清华大大，函数好好用啊，您再多举几个例子吧。
- 主播：好的好的，来看白板。
- 讲解要点：
   1. 讲解两个数论中常用的函数。
   1. 分别用来判断完美数和亲和数。

	
### 求给定正整数的真因子序列

```mathematica
# 该函数求给定正整数的真因子，返回真因子构成的序列
函始 真因子序列 (n)
    s := []
    i := 1
    当始 (i < n)
        若始 (n % i == 0)
            s := s + [i]
        若终
        i := i + 1
    当终

    返回 s
函终
```

	
### 计算序列元素之和

```mathematica
# 该函数计算序列各元素之和并返回求和结果
函始 序列元素之和 (seq)
    sum := 0

    # 若第 i 个元素为 `未定义`，表明序列结束
    i := 0
    当始 (seq[i] != 未定义)
        sum  = sum + seq[i]
        i := i + 1
    当终

    返回 sum
函终
```

	
### 调用函数判定完美数

- 调用函数时，写上函数名并在其后用括号包围需要传入函数的参数（`实参`）。
- 若函数返回一个值，可以将其使用赋值运算符（`:=`）赋给一个变量以备后续使用。

```mathematica
算始 判定完美数
    n := 输入

    # n 作为参数传入函数 `真因子序列`
    # 该函数返回的序列赋值给了 `seq` 变量
    seq := 真因子序列 (n)

    # seq 作为参数传入函数 `序列元素之和`
    # 该函数返回的值赋值给了 `sum` 变量
    sum := 序列元素之和 (seq)

    # 判断 n 和 sum 是否相等，相等则为完美数
    若始 (n == sum)
        输出 真
    若否
        输出 假
    若终
算终
```

	
### 调用函数判定亲和数

- 一个函数的返回值可以作为调用另一个函数的实参而无需使用中间变量。
- 可在表达式中直接调用一个函数将其返回值作为表达式的一部分而无需使用中间变量。

```mathematica
算始 判定亲和数
    a := 输入
    b := 输入

    sum_a := 序列元素之和 (真因子序列 (a))
    # sum_b := 序列元素之和 (真因子序列 (b))

    若始 (a == sum_b 且 序列元素之和 (真因子序列 (a)) == b)
        输出 真
    若终

    输出 假
算终
```

	
### 作业<sub>U4L9</sub>

1) 将正整数分解为指定进制下数码序列的功能写成一个函数，并编写算法调用相应的函数。
2) 将实数的小数部分分解为指定进制下数码序列的功能写成一个函数，并编写算法调用相应的函数。
3) 编写算法调用上述函数实现对任意实数的进制转换功能。
4) 增强第三单元第四讲作业“找出小于等于给定正整数 `$ n $` 的所有自恋数”，将获得十进制数码序列、计算自然数次幂等功能改写为函数，以简化主算法的代码复杂度。

		
## 第四单元 实数和函数<br/>`第十讲 可执行的考鼎码`

	
### 提纲

- 标题：可执行的考鼎码
- 旁白：清华大大，写了这么多算法，我想实际执行一下，看看效果，怎么办呢？
- 主播：咱用考鼎码写的算法，稍微做点改动就能执行起来。来看白板。
- 讲解要点：
   1. 可执行考鼎码和伪代码的不同。
   1. 科学计数法和浮点数。
   1. 可执行考鼎码中如何调用系统功能或函数。
   1. 可执行考鼎码提供的数学函数。

	
### 可执行考鼎码和考鼎伪代码的主要不同

- [可执行考鼎码（Executable Coding Code，EC2）](enlightenment-spec-of-executable-coding-code.html)基于考鼎伪代码（Coding Pseudo Code）定义，保留了大部分的设计，但语法要比伪代码严谨。
- 可执行考鼎码和考鼎伪代码的主要区别：
   1. `输入/输出/执行/终止` 等伪代码指令被定义为内置函数。
   1. 使用内置函数 `长度()` 直接返回序列的长度。
   1. 除了整数、序列之外，有更多的数据类型可用：浮点数、字节、字符、字符串等。
- 浮点数：计算机使用二进制的浮点数来 `近似` 表达任意实数。
- 字符和字符串：程序中需要用到人名、地名等使用自然语言描述的数据时，通常使用双引号（`""`）包围，表示这些数据和关键词、程序定义的函数、算法等的名称不同。这类数据称作“字符串”，本质上是 `字符` 构成的序列。
- 双引号包围的字符串、直接写到程序中的数，有个专业术语：`字面值`。

	
### 可执行考鼎码在线练习场

- [可执行考鼎码在线练习场](https://playground.fmsoft.cn/ec2)

```mathematica
算始 世界你好
    输出 ("Hello, world!")
算终
```

- `输出()` 是函数而非指令。
- 双引号指定了一个字符串 `字面量`：`"Hello, world!"`。

	
### 字节、字符、字符串

- 字节：8位二进制数。
- ASCII：美国制定的最早的字符 `编码`，其中包括拉丁字母、阿拉伯数字、常用标点符号等，一共定义了 128 个字符，每个字符有对应的编码值，用 `0` 到 `127` 的数值表示；一个 ASCII 字符可用一个字节表达。
- 字符：包含 ASCII 字符在内的人类使用的所有文字的字母、象形字、符号等；由 Unicode 标准定义，其中包含超过 14 万个字符。
- 字符串：一组字符构成的序列。
- 在可执行考鼎码中，可将字符串当做字符构成的序列，从而可以使用 `[]` 通过索引获得对应的字符。
- 在可执行考鼎码中使用字节、字符或者字符串：

```mathematica
算始 世界你好
    c := 'A'
    uc := ''中''
    string := "可执行的考鼎码"
    汉字 = string[0]        # 汉字这个变量的值为字符：''可''
算终
```

	
### 科学计数法

- 科学计数法：只保留实数的有效位数，并以如下方式近似表达一个实数：

`$$
\large{
    x \times 10^n \quad (1 \le |x| < 10)
}
$$`

- 科学计数法示例

`$$
\begin{align}
    299792458 &= 2.99792458 \times 10 ^ 8 \\
    0.299792458 &= 2.99792458 \times 10 ^{-1} \\
    -0.0299 &= -2.99 \times 10 ^{-2} \\
\end{align}
$$`

	
### 浮点数

- 类似科学计数法，计算机使用四、八或更多个字节的二进制近似表达一个实数：`$ x \times 2^n $`，其中包括符号位、固定位宽的 `x` 以及固定位宽的 `n` 三部分组成。
- 浮点数（float point）名称的由来。
- 浮点数字面值的三种表达方法：`123.0`、`123.`、`1.23E2`。
- 在可执行考鼎码中，`/` 运算符的结果始终为浮点数，`//` 运算符的结果始终为整数。

<div style="--r-code-block-max-height:500px">

```mathematica
函始 整数次幂(x, n)
    sign := 1
    若始 (n < 0)
        sign := -1
        n := -n
    若终

    p := 1
    当始 (n < 0)
        p := p * x
    当始

    若始 (sign == 1)
        返回 p
    若否
        返回 1 / p
    若终
函终

算始 浮点数示例
    输出(整数次幂(1.23E10, -5))
算终
```

</div>

	
### 比伪代码更加严谨的语法要求

- 伪代码 `执行` 指令中给出的 `拍手`、`说出` 等动作是系统功能的名称，非关键词，故而需要添加双引号以字符串方式传入 `执行()` 函数。
- 人类通过键盘、输入法、语音等向计算机输入的文本，也使用字符串表达，所以要进一步转换成我们需要的整数或者浮点数。

<div style="--r-code-block-max-height:600px">

```mathematica
算始 数数游戏必胜
    # 伪代码中的 `输入` 指令要用 `输入()` 函数替代。
    # `输入()` 函数提示用户输入并返回用户输入的字符串。
    # `整数()` 函数用于将输入字符串转成整数。
    x := 整数(输入())

    若始 (x % 7 == 0)
        # 实际调用的是 `执行()` 函数，功能名称作为参数传入。
        执行("拍手")
        终止()    # 调用 `终止()` 函数终止算法的执行。
    若否
        y := x
        当始 (y != 0)
            y := y // 10
            r := y % 10
            若始 (r == 7)
                执行("拍手")
                终止()
            若终
        当终

        # 要给 `执行()` 函数传递两个参数。
        # 第一个参数是需要调用的系统功能名称（"说出"），
        # 第二个参数是执行说出功能需要的参数。
        执行("说出", x)
    若终
算终
```

</div>

	
### 处理算法的参数

- 使用 `算始/算终` 定义的算法参数始终使用字符串传入，需要调用 `整数()`、`浮点()` 等函数做转换才能使用。

```mathematica
算始 整数的进制转换 (m, b)
    m := 整数(m)
    b := 整数(b)

    若始 (b <= 1)
        返回 未定义
    若终

    sign := 1           # 用来表示 m 的正负
    若始 (m < 0)
        m := -m
        sign := -1
    若终

    s := []
    若始 (m = 0)
        s := [0]
    若否
        当始 (m != 0)
            r := m % b
            s := [r] + s
            m := m // b
        当终
    若终

    若始 (sign < 0)
        s := ['-'] + s      # 在数码序列之前添加上负号字符
    若终

    返回 s
算终
```

	
### 可执行考鼎码提供的数学函数

- 所有的编程语言都提供一样的数学函数库。
- 在可执行考鼎码中，数学函数通过 `math` 对象提供，调用对应函数时，使用 `math.sqrt(2.)` 这样的写法。
- 可执行考鼎码提供的常用数学函数和常数：

```mathematica
# math.sqrt() 用来求给定实数 x 的平方根，x 必须大于等于 0。
y := math.sqrt(x)

# math.pow() 用来求给定实数 x 的 y 次幂
y := math.pow(x, y)

# math.log10() 用来求给定实数以 10 为底的对数。
y := math.log10(x)

# math.log2() 用来求给定实数以 2 为底的对数。
y := log2(x)

# math.PI 是圆周率
y := math.sqrt(math.PI)

# math.E 是自然常数
y := math.pow(math.E, math.PI)

# math.SQRT2 是根号二
y := math.pow(math.SQRT2, 2.0)
```

	
### 在考鼎码中调用数学函数

- 如下考鼎码程序利用换底公式计算给定真数对给定底数的对数。
- 为 `输入()` 函数传入了一个提示用的字符串。
- 使用 `浮点()` 函数将输入字符串转换为浮点数。
- 使用 `输出()` 函数输出计算结果。

```mathematica
算始 任意底的对数
    # 真数
    p := 浮点(输入("真数"))
    # 底数
    b := 浮点(输入("底数"))

    # 利用换底公式计算 p 对 b 的对数
    x := math.log2(p) / math.log2(b)
    输出(x)
算终
```

	
### 作业<sub>U4L10</sub>

<div class="no-list-style">

- 1) 用科学计数法表示下列各数，仅保留七位有效数字：

`$$
\begin{align}
    299792458 &= \\
    3.14159265 &= \\
    -1234.5678 &= \\
    -0.000123456789 &= \\
\end{align}
$$`

- 2) 编写可执行考鼎码算法调用数学函数计算代数和式的值，其中 `$ n $` 为输入的整数：`$ \displaystyle{ \sum_{i=1}^{n}\sqrt{i} } $`。

- 3) 本讲给出的 `整数的进制转换` 函数仍有待改进的地方：当我们使用大于十的进制（如十六进制）时，用于表示十及以上数值的符号不够用了，这时就要使用其他符号。但显然这个版本并未考虑这一点。请针对三十七以内的进制思考改进方案，写出对应的可执行考鼎码版本。

- 4) 在考鼎码在线练习场中运行自己写过的算法，注意修改伪代码中不严谨的写法。

</div>
