# 信息学启蒙<br/>`第四单元 实数和函数`

1. 从整数到实数
1. 从根号二说起
1. 分数的性质及运算
1. 小数的性质及运算
1. 开方运算的性质
1. 对数运算的性质
1. 数学中的函数
1. 程序中的函数
1. 两个数论常用的函数
1. 可执行的考鼎码

		
## 第四单元 实数和函数<br/>`第一讲 从整数到实数`

	
### 提纲

- 标题：从整数到实数
- 旁白：清华大大，数怎么就有理、无理了？您给我讲讲呗。
- 主播：哇，兮兮都知道有理数了！今天一次性讲清楚哈。来看白板。
- 讲解要点：
   - 整数相除产生有理数。
   - 有理数的两种表达：分数和小数。
   - 有理数表达为小数的特点：不循环小数或者循环小数。
   - 无理数的定义：无限不循环小数。
   - 其他常见的无理数：圆周率、黄金分割比。

	
<div class="move-top">

### 两个整数相除余数不为零时

- 分数：`$ \frac{1}{2}, \ 3\frac{1}{2} $`
- 小数：`$ 0.5, \ 3.5 $`
- 分数转为小数；无限循环小数。
- 小数转为分数。

<img style="height:200px;width:auto;" src="assets/enlightenment-real-number-axis.svg" />

</div>

	
<div class="move-top">

### 有理数的定义

- 整数、有限小数和无限循环小数统称为有理数。

</div>

	
<div class="move-top">

### 无理数和实数的定义

- 有不循环小数或者循环小数，也应该有无限不循环小数。
- 用代数式构造一个无限不循环小数：

`$$
\large{
    \displaystyle{ \sum_{n=0}^{\infty} \frac{1}{10^{n!}} }
}
$$`<!-- .element: class="fragment fade-in" -->

- 无理数：无限不循环小数。
- 实数：有理数和无理数统称为实数。

</div>

	
<div class="move-top">

### 常见无理数

- 根号二：`$ \sqrt{2} \approx 1.414 $`
- 根号三：`$ \sqrt{3} \approx 1.732 $`
- 圆周率：`$ \pi \approx 3.14159 $`
- 黄金分割比：`$ \Phi \approx 1.618 $`
- 自然常数：`$ e \approx 2.71828 $`

</div>

	
### 作业<sub>U4L1</sub>

<div class="no-list-style">

- 1) 将下面的假分数化为最简分数形式：

`$$
\begin{align}
    \frac{3}{2} = \qquad\qquad \frac{28}{11} = \qquad\qquad \frac{77}{33} = \qquad\qquad \frac{89}{3} = \\
\end{align}
$$`

- 2) 将下面的分数化为小数：

`$$
\begin{align}
    \frac{1}{2} = \qquad\qquad 10\frac{1}{2} = \qquad\qquad \frac{11}{28} = \qquad\qquad 5\frac{17}{89} = \\
\end{align}
$$`

- 3) 将下面的小数化为最简分数：

`$$
\begin{align}
    &0.5   &= \qquad\qquad &0.25 &= \qquad\qquad &-0.125 &= \\
    &0.75  &= \qquad\qquad &0.875 &= \qquad\qquad &-0.9  &= \\
    &7.25  &= \qquad\qquad &3.125 &= \qquad\qquad &-9.75 &= \\
\end{align}
$$`

- 4) 编写考鼎码算法，将给定的分数（依次输入分子和分母）化为最简分数形式，输出其整数部分以及最简分数的分子及分母。

</div>

		
## 第四单元 实数和函数<br/>`第二讲 从根号二说起`

	
### 提纲

- 标题：从根号二说起
- 旁白：人类是怎么发现无理数的？您给我讲讲呗。
- 主播：无理数的发现有个悲伤的故事。来看白板。
- 讲解要点：
   - 根号二、开方、对数
   - 根号二是无理数的证明
   - 运算的封闭性
   - 四则运算的等价性

	
### 根号二、开方和对数

- 人类发现的第一个无理数：`$ \large{ \sqrt{2} } $`。
- 开方运算是幂的一种逆运算：已知 `$ n $` 和 `$ N $`，求满足等式 `$ x^n = N\ (N \ge 0) $` 的 `$ x $` 的过程叫开方，`$ x $` 叫做 `$ N $` 的 `$ n $` 次方根，记作

`$$
\large{
    x = \sqrt[n]{N}
}
$$`<!-- .element: class="fragment fade-in" -->

- 对数运算是幂的另一种逆运算：如果 `$ a^x = N\ (a \gt 0, 且 a\ne 1) $`，则 `$ x $` 叫做以 `$ a $` 为底 `$ N $` 的对数，记作

`$$
\large{
    x = \log_a{N}
}
$$`<!-- .element: class="fragment fade-in" -->

	
<div class="move-top">

### 根号二是无理数的一个简单证明

</div>

	
<div class="move-top">

### 运算的封闭性

- 自然数范围内的封闭运算：加法、乘法、带余除法
- 整数范围内的封闭运算：加法、乘法、减法、带余除法
- 有理数范围内的封闭运算：加法、乘法、减法、除法
- 实数范围内的封闭运算：加法、乘法、减法、除法、开方、对数

</div>

	
### 四则运算的等价性

- 减法本质上等价于加法：`$ a - b = a + (-b) $`。
- 除法本质上等价于乘法：`$ a \div b = a \times \frac{1}{b} $`。

- 倒数：对任意实数 `$ a \ne 0 $`，一定有实数 `$ b $` 使得 `$ ab = 1 $`；这时，称 `$ b $` 为 `$ a $` 的倒数。实际上有 `$ b = 1 \div a = \frac{1}{a} $`，而 `$ a $` 是 `$ b $` 的倒数。
- 负次幂：根据幂的性质有 `$ a^{-n} = a^{0-n} = a^0 \div a^n = \frac{1}{a^n} $`，故而 `$ a $` 的倒数经常被表示为 `$ a^{-1} $`。

`$$
\large{
\begin{align}
    a^{-1} &= \frac{1}{a}    \\
    a^{-3} &= \frac{1}{a^3}  \\
\end{align}
}
$$`

	
### 作业<sub>U4L2</sub>

<div class="no-list-style">

- 1) 计算下列算式：

`$$
\begin{align}
    \sqrt{0} &= \qquad\qquad &\sqrt{1} &= \qquad\qquad &\sqrt{4} &= \qquad\qquad &\sqrt{16} &= \\
    \sqrt[3]{0} &= \qquad\qquad &\sqrt[3]{1} &= \qquad\qquad &\sqrt[3]{27} &= \qquad\qquad &\sqrt[3]{64} &= \\
    \sqrt[4]{0} &= \qquad\qquad &\sqrt[4]{1} &= \qquad\qquad &\sqrt[4]{16} &= \qquad\qquad &\sqrt[4]{256} &= \\
\end{align}
$$`

- 2) 计算下列算式：

`$$
\begin{align}
    \log_{10}{1} &= \qquad &\log_{10}{10} &= \qquad &\log_{10}{100} &= \qquad &\log_{10}{1000} &= \\
    \log_2{1} &= \qquad   &\log_2{2} &= \qquad &\log_2{8} &= \qquad &\log_2{256} &= \\
\end{align}
$$`

- 3) 编写考鼎码算法，求出小于等于给定正整数 `n` 平方根的最大整数。如小于等于根号二的最大整数是 `1`，小于等于根号八的最大整数是 `2`。

</div>

		
## 第四单元 实数和函数<br/>`第三讲 分数的性质及基本运算`

	
### 提纲

- 标题：分数的性质及基本运算
- 旁白：清华大大，两个分数相加、相乘有啥技巧吗？您给我讲讲呗。
- 主播：有技巧，不过技巧可是建立在规律之上的。来看白板。
- 讲解要点：
   1. 两个分数相乘
   1. 两个分数相除
   1. 乘法分配律的推广
   1. 通分

	
### 两个分数相乘

- 基本性质：

`$$
\large{
    \frac{a}{b} = a \times \frac{1}{b}
}
$$`

- 分数相乘：

`$$
\large{
    \frac{a}{b} \times \frac{c}{d} = \frac{a \times c}{b \times d}
}
$$`<!-- .element: class="fragment fade-in" -->

	
### 两个分数相除

- 基本性质：

`$$
\large{
    1 \div \frac{a}{b} = \frac{1}{\frac{a}{b}} = \frac{b}{a}
}
$$`

- 分数相除：

`$$
\large{
    \frac{a}{b} \div \frac{c}{d} = \frac{a}{b} \times \frac{d}{c}= \frac{a \times d}{b \times c}
}
$$`<!-- .element: class="fragment fade-in" -->

- 或者：

`$$
\large{
    \frac{\frac{a}{b}}{x \times \frac{c}{d}} = \frac{\frac{a}{b} \times \frac{d}{c}}{x} = \frac{\frac{a \times d}{b \times c}}{x}
}
$$`<!-- .element: class="fragment fade-in" -->

	
### 分母相等的两个分数相加

- 利用乘法分配律

`$$
\large{
    \frac{a}{c} + \frac{b}{c} = a \times \frac{1}{c} + b \times \frac{1}{c}
}
$$`

- 得出公式

`$$
\large{
    \frac{a}{c} \pm \frac{b}{c} = \frac{a \pm b}{c}
}
$$`<!-- .element: class="fragment fade-in" -->

	
### 分母不相等的两个分数相加

- 利用性质

`$$
\large{
    \frac{a}{b} = \frac{ac}{bc} \quad (c \ne 0)
}
$$`

- 得出公式

`$$
\large{
    \frac{a}{b} \pm \frac{c}{d} = \frac{ad}{bd} \pm \frac{cb}{db} = \frac{ad \pm bc}{bd}
}
$$`<!-- .element: class="fragment fade-in" -->

- 利用最大公约数和最小公倍数

`$$
\large{
    \frac{a}{b} \pm \frac{c}{d} = \frac{(a \pm c) \times \gcd(b, d)}{\operatorname{lcm}(b, d)}
}
$$`<!-- .element: class="fragment fade-in" -->

	
### 作业<sub>U4L3</sub>

<div class="no-list-style">

- 1) 完成如下分数相关的计算：

`$$
\begin{align}
    &\frac{1}{2} + 4\frac{3}{5} = \qquad \qquad &&10\frac{1}{2} - \frac{1}{3} = \\
    &\frac{1}{2} \times 3\frac{1}{3} = \qquad \qquad &&5\frac{1}{2} \div 3\frac{1}{3} = \\
\end{align}
$$`

- 2) 编写考鼎码算法，计算两个分数相加的结果并化为最简分数。对分数，程序应分别输入分子和分母。

</div>

		
## 第四单元 实数和函数<br/>`第四讲 小数的性质及运算`

	
### 提纲

- 标题：小数的性质及运算
- 旁白：清华大大，两个整数相除为啥会产生无限循环小数啊？
- 主播：这问题太好了！咱看白板哈。
- 讲解要点：
   1. 两个整数相除为何会产生无限循环小数？
   1. 0.9 循环等于 1 的几个证明。
   1. 如何将一个循环小数转成分数？
   1. 小数四则运算。
   1. 小数的进制表达及转换。

	
<div class="move-top">

### 两个整数相除为何会产生无限循环小数？

</div>

	
### 将循环小数转成分数

- 将 `$ 0.\dot{5} $` 转成分数：

`$$
\begin{align}
    &x := 0.\dot{5} \\
    &\because 10x = 5.\dot{5} \\
    &\therefore  10x = 5 + 0.\dot{5} \\
    &\therefore  10x = 5 + x \\
    &\therefore  10x - x = 5 \\
    &\therefore  9x = 5 \\
    &\therefore  x = \frac{5}{9} \\
\end{align}
$$`<!-- .element: class="fragment fade-in" -->

- 公式：

`$$
\large{
    (0.\dot{f_1} {f_2} \cdots \dot{f_n})_b = \frac{(f_1 f_2 \cdots f_n)_b}{b^n - 1}
}
$$`<!-- .element: class="fragment fade-in" -->

	
### 0.9循环等于1的几种证明方法

1. 长除法变戏法。
1. 依照循环小数转分数的公式。
1. 参照上述将 `$ 0.\dot{5} $` 转成分数的过程：

`$$
\begin{align}
    &x := 0.\dot{9} \\
    &\because 10x = 9.\dot{9} \\
    &\therefore  10x = 9 + 0.\dot{9} \\
    &\therefore  10x = 9 + x \\
    &\therefore  10x - x = 9 \\
    &\therefore  9x = 9 \\
    &\therefore  x = \frac{9}{9} = 1 \\
\end{align}
$$`

	
<div class="move-top">

### 小数的四则运算

- 要点：
   1. 加减法：对齐小数点。
   1. 乘除法：去掉小数点乘除，再确定小数点位数。

</div>

	
### 小数的进制表达

- 十进制小数表达的含义：

`$$
\large{
\begin{align}
    123.45 &= 1 \times 100 + 2 \times 10 + 3 \times 1 + 4 \times 0.1 + 5 \times 0.01    \\
           &= 1 \times 10^2 + 2 \times 10^1 + 3 \times 10^0 + 4 \times 10^{-1} + 5 \times 10^{-2}
\end{align}
}
$$`

- 任意进制表达的展开式：

`$$
\large{
\begin{align}
    &(d_n d_{n-1} \cdots d_1 d_0.f_1f_2 \cdots f_{m-1} f_m)_b \\
  = &d_n b^n + d_{n-1} b^{n-1} + \cdots + d_1 b^1 + d_0 b^0 + f_1 b^{-1} + f_2 b^{-2} + \cdots + f_{m-1} b^{1-m} + f_m b^{-m}
\end{align}
}
$$`<!-- .element: class="fragment fade-in" -->

	
### 小数的进制转换

- 整数部分和小数部分分别转换。
- 小数部分的转换算法：
   1. 令 `i` 为 `1`，并令 `f` 为小数部分。
   1. `f` 乘以进制数 `b` 后取整数部分 `d` 作为转换后的第 `i` 位小数，并令 `f` 为剩余的小数部分。
   1. 若 `f` 为零，则转换结束。
   1. 若 `f` 不为零，且 `i` 尚未到达要求的精度（小数点后 `n` 位），则 `i` 递增并转第 `2` 步。
- 小数是否循环和进制有关。

	
### 作业<sub>U4L4</sub>

<div class="no-list-style">

- 1) 完成如下小数相关的计算：

`$$
\begin{align}
    0.12345 + 10.56789 & = \\
    0.12345 - 10.56789 & = \\
    10.56789 \times 0.56 & = \\
    10.56789 \div 0.56 & = \\
\end{align}
$$`

- 2) 完成如下的进制转换（精确到小数点后 `3` 位）：

`$$
\begin{align}
    (72.45)_8 &= (\underline{\qquad\qquad})_{10} \qquad\qquad (1A6.3B8)_{16} &&= (\underline{\qquad\qquad})_{10}        \\
    15.68 &= (\underline{\qquad\qquad})_2 \qquad\qquad                 10.68 &&= (\underline{\qquad\qquad})_8
\end{align}
$$`

- 3) 思考：针对小数部分，`b` 进制和 `b` 的正整数次幂进制之间的快速转换关系是否仍然适用？

- 4) 编写考鼎码算法，将一个十进制小数转换为给定的 `b` 进制表达，精确到小数点 `n` 位。

- 5) 编写考鼎码算法，将一个无限循环小数转为分数。程序应分别输入整数部分、小数中的不循环部分及循环部分，如 `$ 100.356\dot{1}\dot{7} $` 分为三部分输入：`$ 100 $`、`$ 356 $` 和 `$ 17 $`。

</div>

		
## 第四单元 实数和函数<br/>`第五讲 开方运算的性质`

	
### 提纲

- 标题：开方运算的性质
- 旁白：
- 主播：
- 讲解要点：

	
### 开方运算的定义

- 开方运算是幂的一种逆运算：已知 `$ n $` 和 `$ N $`，求满足等式 `$ x^n = N\ (N \ge 0) $` 的 `$ x $` 的过程叫开方，`$ x $` 叫做 `$ N $` 的 `$ n $` 次方根，记作

`$$
\large{
    x = \sqrt[n]{N}
}
$$`

- 一个数的 `$ 2 $` 次方根称为平方根；`$ 3 $` 次方根称为立方根。
- 零的 `$ n $` 次方根是零。
- 在实数范围内，正数的偶数次方根是两个互为相反数的数。
- 在实数范围内，负数的偶数次方根不存在（`未定义`）。
- 在实数范围内，开方运算只求正数的非负方根。

	
<div class="move-top">

### 开方和幂的等价关系

`$$
\large{
    \sqrt[n]{N} = N^{1/n}
}
$$`<!-- .element: class="fragment fade-in" -->

</div>

	
<div class="move-top">

### 最简根式

</div>

	
### 作业<sub>U4L5</sub>

<div class="no-list-style">

- 1) 简化下列根式：

`$$
\begin{align}
    \sqrt{8} &= \qquad\qquad &\sqrt{27} &= \\
    \sqrt{4a^2} &= \qquad\qquad &\sqrt[3]{2a^3} &= \\
    \sqrt{\frac{1}{8a}} &= \qquad\qquad &\sqrt{\frac{a^2}{2}} &= \\
\end{align}
$$`

</div>

		
## 第四单元 实数和函数<br/>`第六讲 对数运算的性质`

	
### 提纲

- 标题：对数运算的性质
- 旁白：
- 主播：
- 讲解要点：

	
### 对数运算的定义

- 对数运算是幂的一种逆运算：如果 `$ a^x = N\ (a \gt 0, 且 a\ne 1) $`，则 `$ x $` 叫做以 `$ a $` 为底 `$ N $` 的对数，记作

`$$
\large{
    x = \log_a{N}
}
$$`

- 其中，`$ a $` 叫做对数的 `底数`，`$ N $` 叫做 `真数`。
- 以 `$ 10 $` 为底的对数叫做 `常用对数`，记为 `$ \lg N $`。
- 以无理数 `$ e $` 为底的对数称为 `自然对数`，记为 `$ \ln N $`。
- 零的对数为 `未定义`。
- 在实数范围内，负数的对数 `未定义`。

	
### 对数运算的性质

- 基本性质：
   - `$ \log_a{1} = 0 $`<!-- .element: class="fragment fade-in" -->
   - `$ \log_a{a} = 1 $`<!-- .element: class="fragment fade-in" -->
   - `$ \log_a{b} \times \log_b{a} = 1 $`<!-- .element: class="fragment fade-in" -->
   - `$ -\log_c{(a \div b)} = \log_c{(b \div a)} $`<!-- .element: class="fragment fade-in" -->

- 恒等式：

`$$
\large{
    a^{\log_a{N}} = N \quad (a \gt 0,\ a \ne 1)
}
$$`<!-- .element: class="fragment fade-in" -->

- 运算法则：
    - `$ \log_a{a^n} = n $`<!-- .element: class="fragment fade-in" -->
    - `$ \log_a{MN} = \log_aM + \log_aN $`<!-- .element: class="fragment fade-in" -->
    - `$ \log_a{(M / N)} = \log_aM - \log_aN $`<!-- .element: class="fragment fade-in" -->
    - `$ \log_a{(1 / N)} = -\log_a{N} $`<!-- .element: class="fragment fade-in" -->
    - `$ \log_a{M^n} = n \log_a{M} $`<!-- .element: class="fragment fade-in" -->
    - `$ \log_a{\sqrt[n]M} = (\log_a{M})/n $`<!-- .element: class="fragment fade-in" -->

	
<div class="move-top">

### 对数换底公式

`$$
\large{
    \log_a b = \frac{\log_c b}{\log_c a}
}
$$`<!-- .element: class="fragment fade-in" -->

</div>

	
### 作业<sub>U4L6</sub>

		
## 第四单元 实数和函数<br/>`第七讲 数学中的函数`

	
### 提纲

- 标题：数学中的函数
- 旁白：
- 主播：
- 讲解要点：
   1. 从数学公式到函数
   1. 笛卡尔坐标系

	
### 笛卡尔坐标系

<img style="height:700px;width:auto;" src="assets/enlightenment-cartesian-coordinate-system.svg" />

	
### 作业<sub>U4L7</sub>

		
## 第四单元 实数和函数<br/>`第八讲 考鼎码中的函数`

	
### 提纲

- 标题：程序中的函数
- 旁白：清华大大，我做作业时发现，经常要写一些以前写过的相似代码，好烦呀。
- 主播：程序里边也可以用函数哦。咱看白板哈。
- 讲解要点：
   1. 代码中的函数
   1. 考鼎码定义函数的方法

	
### 考鼎码定义函数

- 考鼎码使用 `函始/函终` 两个关键词定义一个函数。
- 每个函数应该具有唯一的名称。
- 函数名称之后用括号指定一个或多个参数名（`形参`），多个参数名用逗号隔开；若函数不需要参数，则不需要括号和形参列表。
- 这些参数名用于指代`调用`函数时传入的实际参数（`实参`）。
- 函数通常要`返回`一个值。

```mathematica
# 该函数计算并返回两个数的绝对值之和
函始 绝对值之和 (a, b)
    若始 (a < 0)
        a := -a
    若终

    若始 (b < 0)
        b := -b
    若终

    返回 a + b
函终
```

	
### 考鼎码中调用函数

- 调用函数：函数名然后是小括号包围的实参列表；若函数不需要参数，则括号为空。
- 函数的返回值可作为表达式的一部分。

```mathematica
算始 调用函数的示例
    a := 输入()
    b := 输入()

    输出 绝对值之和 (a, b)
算终
```

	
<div class="move-top">

### 考鼎码中函数和算法的区别

- 为避免和已有的算法定义方法相混淆，我们规定 `算始/算终` 定义的算法为单个考鼎码程序的唯一入口。
- 也就是说，一个考鼎码程序可以定义多个 `函数`，但只能包含一个 `算法`。
- 这么一来，`算始/算终` 本质上是一种特殊的函数。

</div>

	
### 作业<sub>U4L8</sub>

1) 将第二单元中所学求幂算法改造成函数，并编写算法调用相应的函数。
2) 将第二单元中所学阶乘算法改造成函数，并编写算法调用相应的函数。

		
## 第四单元 实数和函数<br/>`第九讲 两个数论常用的函数`

	
### 提纲

- 标题：两个数论常用的函数
- 旁白：清华大大，函数好好用啊，您再多举几个例子吧。
- 主播：好的好的，来看白板。
- 讲解要点：
   1. 讲解两个数论中常用的函数。
   1. 分别用来判断完美数和亲和数。

	
### 求给定正整数的真因子序列

```mathematica
# 该函数求给定正整数的真因子，返回真因子构成的序列
函始 真因子序列 (n)
    s := []
    i := 1
    当始 (i < n)
        若始 (n % i == 0)
            s := s + [i]
        若终
        i := i + 1
    当终

    返回 s
函终
```

	
### 计算序列元素之和

```mathematica
# 该函数计算序列各元素之和并返回求和结果
函始 序列元素之和 (seq)
    sum := 0

    # 若第 i 个元素为 `未定义`，表明序列结束
    i := 0
    当始 (seq[i] != 未定义)
        sum  = sum + seq[i]
        i := i + 1
    当终

    返回 sum
函终
```

	
### 调用函数判定完美数

- 调用函数时，写上函数名并在其后用括号包围需要传入函数的参数（`实参`）。
- 若函数返回一个值，可以将其使用赋值运算符（`:=`）赋给一个变量以备后续使用。

```mathematica
算始 判定完美数
    n := 输入

    # n 作为参数传入函数 `真因子序列`
    # 该函数返回的序列赋值给了 `seq` 变量
    seq := 真因子序列 (n)

    # seq 作为参数传入函数 `序列元素之和`
    # 该函数返回的值赋值给了 `sum` 变量
    sum := 序列元素之和 (seq)

    # 判断 n 和 sum 是否相等，相等则为完美数
    若始 (n == sum)
        输出 真
    若否
        输出 假
    若终
算终
```

	
### 调用函数判定亲和数

- 一个函数的返回值可以作为调用另一个函数的实参而无需使用中间变量。

```mathematica
算始 判定亲和数
    a := 输入
    b := 输入

    sum_a := 序列元素之和 (真因子序列 (a))
    sum_b := 序列元素之和 (真因子序列 (b))

    若始 (a == sum_b)
        若始 (b == sum_a)
            输出 真
        若终
    若终

    输出 假
算终
```

	
### 作业<sub>U4L9</sub>

1) 将正整数分解为指定进制下数码序列的功能写成一个函数，并编写算法调用相应的函数。
2) 将小数分解为指定进制下数码序列的功能写成一个函数，并编写算法调用相应的函数。
3) 编写算法调用上述函数实现对任意实数的进制转换功能。

		
## 第四单元 实数和函数<br/>`第十讲 可执行的考鼎码`

	
### 提纲

- 标题：程序中调用数学函数
- 旁白：清华大大，我想实际执行我写过的算法，看看效果，怎么办呢？
- 主播：咱用考鼎码写的算法，稍微做点改动就能执行起来。来看白板。
- 讲解要点：
   1. 可执行的考鼎码和伪代码的不同。
   1. 考鼎码在线练习场。
   1. 函数库的概念。
   1. 考鼎码中如何调用函数库中的函数。
   1. 数学库中有哪些现成的函数可用。

	
### 和伪代码的不同

- [可执行的考鼎码（Executable Coding Code，EC2）](enlightenment-spec-of-executable-coding-code.html)基于考鼎伪代码（Coding Pseudo Code）定义，保留了大部分的设计，但语法要比伪代码严谨。和伪代码的主要区别：
   1. `输入` 被定义为内置函数。
   1. `输出` 被定义为内置函数。
   1. `执行` 被定义为内置函数，该函数执行指定的系统功能。
   1. `终止` 被定义为内置函数。
   1. 数据区分类型：整数、浮点数、字节、字符、序列、字符串等。
- 程序中需要用到人名、地名等使用自然语言描述的数据时，通常使用双引号包围，表示这些数据和关键词、程序定义的函数、算法等的名称不同。这类数据称作“字符串”，本质上是字符构成的序列。
- 伪代码 `执行` 指令中给出的 `拍手`、`说出` 等动作是系统功能的名称，非关键词，故而需要添加引号以字符串方式传入 `执行()` 函数。
- 人类向计算机输入的文本，也使用字符串表达，所以要进一步转换成我们需要的整数或者实数。
- 计算机使用二进制的浮点数来 `近似` 表达任意实数。
- 使用 `算始/算终` 定义的算法参数始终使用字符串表达，需要调用 `整数()`、`浮点()` 等函数做转换才能使用。
- 考鼎码在线练习场：<https://playground.fmsoft.cn/ec2>

	
### 世界，你好！

```mathematica
算始 世界你好
    输出 ("Hello, world!")
算终
```

	
### 比伪代码更加严谨的语法要求

<div class="long-code">

```mathematica
算始 数数游戏必胜
    # 实际调用的是 `输入()` 函数，要添加括号；
    # `整数()` 函数用于将输入字符串转成整数。
    x := 整数(输入())

    若始 (x % 7 == 0)
        # 实际调用的是 `执行()` 函数，功能名称作为参数传入。
        执行("拍手")
        终止()    # 调用 `终止()` 函数终止算法的执行。
    若否
        y := x
        当始 (y != 0)
            y := y // 10
            r := y % 10
            若始 (r == 7)
                执行("拍手")
                终止()
            若终
        当终

        # 要给 `执行()` 函数传递两个参数。
        # 第一个参数是需要调用的系统功能名称（"说出"），
        # 第二个参数是执行说出功能需要的参数。
        执行("说出", x)
    若终
算终
```

</div>

	
### 处理算法的参数

<div class="long-code">

```mathematica
算始 转换进制 (x, b)
    x := 整数(x)
    b := 整数(b)

    若始 (b <= 1)
        返回 未定义
    若终

    s := []
    若始 (x = 0)
        s := [0]
    若否
        当始 (x != 0)
            r := x % b
            s := [r] + s
            x := x // b
        当终
    若终

    返回 s
算终
```

</div>

	
### 考鼎码提供的数学函数

- 使用关键词 `导入` 可导入一个已有的功能模块（函数库）
- 所有的编程语言都提供一样的数学函数库。

```mathematica
# 导入后，可直接使用其中的数学函数，比如求平方根、幂、对数等。
导入 数学库
```

- 使用关键词 `声明` 用来描述外部程序定义的函数/全局变量。
- 函数的声明只需要书写一行，所以不需要标识结束的关键词。
- 考鼎码数学库中常用的数学函数：

```mathematica
# pow() 用来求给定实数 x 的 y 次幂
声明 pow(x, y)

# sqrt() 用来求给定实数 x 的平方根，x 必须大于等于 0。
声明 sqrt(x)

# log10() 用来求给定实数以 10 为底的对数。
声明 log10(x)

# log2() 用来求给定实数以 2 为底的对数。
声明 log2(x)
```

	
### 在考鼎码中调用数学函数

- 如下考鼎码程序利用换底公式计算给定真数对给定底数的对数。
- 为 `输入()` 函数传入了一个提示用的字符串。
- 使用了 `浮点()` 函数将输入字符串转换为浮点数。
- 使用了 `浮点()` 函数将输入字符串转换为浮点数。

```mathematica
导入 数学库
算始 任意底的对数
    # 真数
    p := 浮点(输入("真数"))
    # 底数
    b := 浮点(输入("底数"))

    # 利用换底公式计算 p 对 b 的对数
    x := log2(p) / log2(b)
    输出(x)
算终
```

	
### 作业<sub>U4L10</sub>

1) 编写考鼎码算法调用数学函数计算代数和式的值，其中 `$ n $` 为输入的整数：`$ \displaystyle{ \sum_{i=1}^{n}\sqrt{i} } $`。
2) 在考鼎码在线练习场中运行自己写过的算法，注意修改伪代码中不严谨的写法。
3) 第二单元给出的进制转换算法之修改版仍有待改进的地方：当我们使用大于十的进制（如十六进制）时，用于表示十及以上数值的符号不够用了，这时就要使用其他符号。但显然这个版本并未考虑这一点。请针对十六及以内的进制思考改进方案，并写出对应的增强版本。


