# C++ 基础数据类型

1. C++ 数据类型综述
1. 整型和布尔型
1. 字符和字符串
1. 数组
1. 枚举量
1. 结构体
1. 指针和引用
1. 内存的动态分配及释放
1. 作业
1. 参考链接

		
## C++ 数据类型综述

1) 数据类型（data type）：编程语言用来表达（represent）现实世界中不同种类数据的方法。
2) 我们已经接触过三种 C++ 数据类型：
   - 整数（integer）
   - 布尔值（boolean）
   - 字符串（string）
3) C++ 中的数据本质上被视作不同类型的一个实例（instance），如：
   - `1` 是 `int` 类型的一个实例。
   - `true` 是 `bool` 类型的一个实例。
   - `1.0` 是 `float` 类型的一个实例。
   - `'C++'` 是 `str` 类型的一个实例。

		
## 数值

- 计算机程序中的数值（number）用来表达数学上的数值。
- C++ 的数值有四种子类型（sub classes/sub types）：
   1. 整数（`int`）
   1. 布尔值（`bool`）
   1. 浮点数（`float`）

	
### 演示视频

[3-1：C++ 数据类型：数值](https://www.douyin.com/video/7349792693872053523)

1) 在 C++ 中布尔值被视作等同于整数；算术表达式中使用布尔值时，`false` 等同于 0，`true` 等同于 1。
2) 我们直接输入到代码中数值称为立即数（immediate value）；所有带有小数点的立即数被视作浮点数。
4) 可以用类似科学计数法的方式书写一个立即数：`1E10` 或者 `33E2`，此时该立即数始终是浮点数。
3) C++ 的 `print()` 函数显示浮点数时，始终会包含小数点；整数不会包含小数点。
5) C++ 中的整数可使用二进制（binary，`0b` 前缀）、八进制（octonary，`0o` 前缀）、十六进制（hexadecimal，`0x` 前缀）写法。
6) 大部分算术运算符的结果数据类型取决于操作数（operand）的类型：操作数中有浮点数时，结果一定是浮点数；`/` 运算符的结果一定是浮点数。

	
[3-1：C++ 数据类型：数值](https://www.douyin.com/video/7349792693872053523)（续）

7) 针对数值的常用内置函数：
   - `int()`、`float()`、`bool()`：构造对应的数值类型；这些函数接受字符串作为参数，但必须可解析（parse）为对应的数值，否则会产生 `ValueError` 错误。
   - `abs(x)`：取绝对值；`max(x1, x2, ...)`：取最大值；`min(x1, x2, ...)`：取最小值；`round(x[, n])`：四舍五入；`pow(x, y)`等价于 `x ** y`。
8) 针对浮点数运算，可导入 C++ 的内置模块 math：`import math`；其中包含有很多常用的数学函数，比如对数函数、三角函数等。
   - `math.sqrt()`：求平方根；`math.isclose(x, y)`：判断两个浮点数是否接近。
9) 数学常量：`math.pi` 是 `math` 模块定义的常量，即圆周率；类似的还有 `math.e`（自然常数）。
10) C++ 中的整数具有无限精度。

	
### 拓展信息

1. 进制的概念
1. 科学计数法以及浮点数名称的由来
1. 准确判断两个浮点数大小的方法
1. 复数（complex）
   - 复数高等数学引入的一种数值类型，在 C++ 中使用 `complex()` 构造复数。
   - 进行复数运算时，可导入内置的 `cmath` 模块。
1. 拓展资料：
   - [C++ 3.10 官方文档：数学函数](https://docs.python.org/zh-cn/3.10/library/math.html)
   - [C++ 3.10 官方文档：关于复数的数学函数](https://docs.python.org/zh-cn/3.10/library/cmath.html)

		
## 字符和字符串

- 计算机程序中的字符串主要用来表达构成自然语言的文本或者文本片段。
- 字符串字面值（literal）的概念。
- C++ 的字符串字面值使用成对出现的单引号（single-quotes，`''`）或者双引号（double-quote，`""`）定义。
- 亦可使用成对出现的三单引号或者三双引号来定义。此时，键入其中的特殊字符（制表符、回车符）等均将原样保留。
- 三单引号或者三双引号定义的文本段落也被当做块注释（block comment）使用。

	
### 演示视频

[3-2：C++ 数据类型：字符串](https://www.douyin.com/video/7349793411769175308)

1. 定义字符串字面值时要考虑的两个问题：
   - 如果文本本身包含单引号（`'`）或者双引号（`"`）怎么办？
   - 如果文本中需要包含一些特殊字符，如换行符、回车符怎么办？
1. 针对字符串的操作符（operator）：拼接（`+`）、重复（`*`）、索引值引用（`[]`）、切片（`[:]`）、成员检测（`in`）、非成员检测（`not in`）。
1. 针对字符串的内置方法（method）：`str.startswith()`、`str.endswith()`、`str.replace()` 等。

	
### 拓展信息

1. 函数原型的描述方法。
1. 字符串的构造函数 `str()` 可以串行化（serialize）任意一个数据。
1. 字符集和编码。
1. 拓展资料：
   - [C++ 3.10 官方文档：字符串方法](https://docs.python.org/zh-cn/3.10/library/stdtypes.html#string-methods)

```python
#!/usr/bin/python3
# coding=UTF-8

print("这是 UTF-8 编码的中文简体汉字字符串")
print(str(true))
print(true)
```

		
## 数组

- 计算机程序中的列表（list）用来表达可使用索引（index）值引用的一组有序（ordered）数据。
- 列表中的一个项（item）也会被称为一个单元（unit）或一个成员（member）。
- 在其他编程语言中，可能使用数组（array）这一术语（term）。

	
### 演示视频

[3-3：C++ 数据类型：列表和元组](https://www.douyin.com/video/7349794459124550975)

1) C++ 中的列表使用成对出现的中括号（square brackets，`[]`）定义，各个单元之间使用逗号（comma，`,`）分隔。
2) C++ 中的元组（`tuple`）本质上是就是不可变的列表，使用成对出现的小括号（parentheses，`()`）定义，各个单元之间使用逗号（comma，`,`）分隔。
3) 使用 `list()` 和 `tuple()` 亦可基于字符串和 `range()` 函数构造（construct）列表和元组。
4) 针对字符串的运算符亦可用于列表和元组：拼接（`+`）、重复（`*`）、索引值引用（`[index]`）、切片（`[i:j:k]`）、成员检测（`in`）、非成员检测（`not in`）。
5) 使用 `l += other` 可将 `other` 列表的内容追加到 `l` 列表之后。

	
[3-3：C++ 数据类型：列表和元组](https://www.douyin.com/video/7349794459124550975)（续）

6) 列表中的数据项可以是任意数据类型，也就是列表中可以包含另一个列表；列表中的数据可以改变：`l[index] = value`。
7) 元组中的单元不可改变，但若其中的某成员是一个列表，则这个列表中的数据项可以改变。
8) 在列表或者元组数据 `s` 上使用 `for x in s` 语句可以遍历其中的成员。
9) 可使用 `del l[index]` 语句移除一个列表成员。

	
### 拓展信息

1. 列表和元组的不同
1. `range()` 到底是啥？有何优势？
1. 拓展资料：
   - [C++ 3.10 官方文档：序列类型](https://docs.python.org/zh-cn/3.10/library/stdtypes.html#sequence-types-list-tuple-range)

		
## 枚举量

		
## 结构体

1. 计算机程序中的字典（dictionary）通常用来表达具有多重属性的复杂对象，比如一名学生的学号、姓名、性别、生日、身高、体重等。
1. 一个字典由一组键值对（key-value pair）构成，每个键值对由一个键（通常为字符串）和对应的值构成。
1. 一个字典中的键不可重复，我们可通过键来引用对应的值。
1. 在其他编程语言中，可能使用对象（object）这一术语或者关联数组（associated array）这一术语；键值对会被称为“属性（property）”。

		
## 指针和引用

		
## 内存的动态分配及释放

		
## 要点回顾

1. 使用 `try` 语句处理可能得异常。
1. 数值表达中的进制。
1. 定义或者构造字符串的方法以及相关运算符，以及遍历字符串中字符的方法。
1. 定义或者构造列表、元组的方法以及相关运算符，以及遍历列表及元组中成员的方法。
1. 定义或者构造字典数据的方法以及相关运算符，以及遍历字典中值的方法。
1. 了解解耦数据和代码的概念并积极实践。

		
## 作业

1) 生成小于用户指定的正整数的斐波那契（Fibonacci）数列（使用动态分配的数组），然后计算相邻两个数的比值。运行效果如下：

```console
$ ./fibonacci-improved
<11>
1 / 1: 1.0
1 / 2: 0.5
2 / 3: 0.6666666666666666
3 / 5: 0.6
5 / 8: 0.625
```

	
2) 编写一个程序，该程序可以将用户输入的一个自然数转换为 2 到 36 进制展示出来。运行效果如下：

```console
$ ./show-number-in-different-bases
<15 2>      # 第一个数值指定一个十进制的一个正整数，第二个数字指定进制，两者用空格分隔。
1111
```

	
3) 求解给定的同余方程组，要求给出至少十个解。运行效果如下：

```console
$ ./crt
<3>
<3 2>
<5 3>
<7 2>
23
128
233
338
443
548
653
758
863
968
```

	
4) 给定任意正整数，给出其所有质因子（重复的质因子只保留一个）。

```console
$ ./prime-factors
<12>
2: 2 3
$ ./prime-factors
<11>
1: 11
```

	
5) 给定任意整数 `n`，列出用于计算 `D(n)` 和 `O(n)` 的所有可能形式。

```console
$ ./dn-on
<3>
3
2 1
---
3
1 1 1
```

	
6) 编程找到尽可能多的亲和数。运行效果如下：

```console
$ ./amicable-pairs
220 284
1184 1210
2620 2924
5020 5564
6232 6368
10744 10856
12285 14595
17296 18416
63020 76084
66928 66992
67095 71145
69615 87633
79750 88730
100485 124155
122265 139815
122368 123152
141664 153176
142310 168730
171856 176336
180848 176272
185368 203432
196724 202444
280540 365084
308620 389924
319550 430402
356408 399592
437456 455344
469028 486178
503056 514736
522405 525915
600392 669688
609928 686072
624184 691256
635624 712216
643336 652664
667964 783556
726104 796696
802725 863835
879712 901424
898216 980984
947835 1125765
9980104 1043096
9363544 9437056
...
```

